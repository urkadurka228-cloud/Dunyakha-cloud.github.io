<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>2 –ú–æ–±–∏–ª—å–Ω—ã–µ –∏–≥—Ä—ã | Minecraft Clicker –∏ Talking Dunyakha</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* –°–±—Ä–æ—Å —Å—Ç–∏–ª–µ–π –∏ –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-user-select: none;
            user-select: none;
            touch-action: manipulation;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            padding: 0;
        }
        
        /* –§–æ–Ω —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π */
        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        
        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 15s infinite linear;
        }
        
        @keyframes float {
            0% { transform: translateY(100vh) translateX(0) rotate(0deg); }
            100% { transform: translateY(-100px) translateX(100px) rotate(360deg); }
        }
        
        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–∞–π—Ç–∞ */
        .site-container {
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 20px;
            max-width: 500px;
            margin: 0 auto;
        }
        
        /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–∞–π—Ç–∞ */
        .site-header {
            text-align: center;
            margin: 20px 0 30px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            animation: fadeIn 1s ease;
        }
        
        .site-title {
            font-size: 2.5rem;
            color: #4cc9f0;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(76, 201, 240, 0.5);
        }
        
        .site-subtitle {
            color: #ccc;
            font-size: 1rem;
            opacity: 0.9;
        }
        
        /* –°–µ—Ç–∫–∞ –∏–≥—Ä */
        .games-grid {
            display: flex;
            flex-direction: column;
            gap: 25px;
            margin-bottom: 40px;
            flex: 1;
        }
        
        /* –ö–∞—Ä—Ç–æ—á–∫–∏ –∏–≥—Ä */
        .game-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 25px;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            cursor: pointer;
            border: 2px solid transparent;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            min-height: 300px;
        }
        
        .game-card:hover {
            transform: translateY(-10px);
            border-color: rgba(76, 201, 240, 0.5);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }
        
        .game-card:active {
            transform: translateY(-5px);
        }
        
        .game-preview {
            height: 180px;
            position: relative;
            overflow: hidden;
        }
        
        .game-preview-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        
        .game-card:hover .game-preview-img {
            transform: scale(1.05);
        }
        
        .game-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(45deg, #ff416c, #ff4b2b);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(255, 65, 108, 0.3);
        }
        
        .game-info {
            padding: 25px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .game-title {
            font-size: 1.8rem;
            margin-bottom: 10px;
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .game-icon {
            font-size: 1.5rem;
        }
        
        .game-description {
            color: #aaa;
            font-size: 0.95rem;
            line-height: 1.5;
            margin-bottom: 15px;
            flex: 1;
        }
        
        .game-stats {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .game-stat {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.85rem;
            color: #4cc9f0;
            background: rgba(76, 201, 240, 0.1);
            padding: 5px 10px;
            border-radius: 15px;
        }
        
        .play-button {
            background: linear-gradient(45deg, #4cc9f0, #4361ee);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: auto;
        }
        
        .play-button:hover {
            background: linear-gradient(45deg, #4361ee, #3a0ca3);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(67, 97, 238, 0.4);
        }
        
        .play-button:active {
            transform: translateY(1px);
        }
        
        /* –§—É—Ç–µ—Ä */
        .site-footer {
            text-align: center;
            padding: 20px;
            color: #888;
            font-size: 0.9rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: auto;
        }
        
        .author-info {
            margin-top: 10px;
            color: #4cc9f0;
            font-weight: bold;
        }
        
        /* –≠–∫—Ä–∞–Ω—ã –∏–≥—Ä */
        .game-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0f1525;
            z-index: 1000;
            overflow: auto;
            display: none;
            flex-direction: column;
            animation: slideIn 0.4s ease;
        }
        
        .game-screen.active {
            display: flex;
        }
        
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.8);
            position: sticky;
            top: 0;
            z-index: 10;
            border-bottom: 2px solid rgba(76, 201, 240, 0.3);
        }
        
        .game-back-button {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .game-back-button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(-90deg);
        }
        
        .game-screen-title {
            font-size: 1.5rem;
            color: #4cc9f0;
            text-align: center;
            flex: 1;
        }
        
        .game-content {
            flex: 1;
            overflow: auto;
            padding: 0;
            position: relative;
            width: 100%;
            height: calc(100vh - 90px);
        }
        
        /* –ó–∞–≥—Ä—É–∑—á–∏–∫ */
        .loader-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #1a1a2e;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            transition: opacity 0.5s, visibility 0.5s;
        }
        
        .loader-container.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        .loader {
            width: 60px;
            height: 60px;
            border: 5px solid rgba(76, 201, 240, 0.3);
            border-radius: 50%;
            border-top-color: #4cc9f0;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        .loader-text {
            font-size: 1.2rem;
            color: #4cc9f0;
            text-align: center;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 480px) {
            .site-container {
                padding: 15px;
            }
            
            .site-title {
                font-size: 2rem;
            }
            
            .game-card {
                min-height: 280px;
            }
            
            .game-preview {
                height: 160px;
            }
            
            .game-info {
                padding: 20px;
            }
            
            .game-title {
                font-size: 1.5rem;
            }
            
            .game-stats {
                gap: 10px;
            }
            
            .game-stat {
                font-size: 0.8rem;
                padding: 4px 8px;
            }
        }
        
        @media (max-height: 700px) {
            .game-card {
                min-height: 260px;
            }
            
            .game-preview {
                height: 140px;
            }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ */
        .notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: linear-gradient(45deg, #4cc9f0, #4361ee);
            color: white;
            padding: 15px 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            z-index: 1001;
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .notification.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–π –∫–Ω–æ–ø–∫–∏ */
        .fullscreen-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: rgba(76, 201, 240, 0.2);
            border: 2px solid #4cc9f0;
            color: #4cc9f0;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            z-index: 999;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
            transition: all 0.3s;
        }
        
        .fullscreen-btn:hover {
            background: rgba(76, 201, 240, 0.3);
            transform: scale(1.1);
        }
    </style>
    
    <!-- –°—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π –ø—Ä–µ–≤—å—é -->
    <style>
        @keyframes blockFloat {
            0% { transform: rotate(5deg) translateY(0); }
            100% { transform: rotate(5deg) translateY(-10px); }
        }
        
        @keyframes cowBounce {
            0% { transform: translateY(0); }
            100% { transform: translateY(-10px); }
        }
        
        @keyframes cloudMove {
            0% { transform: translateX(-50px); }
            100% { transform: translateX(100vw); }
        }
        
        @keyframes heartFloat {
            0%, 100% { transform: translateY(0) scale(1); opacity: 1; }
            50% { transform: translateY(-20px) scale(1.2); opacity: 0.8; }
        }
    </style>
</head>
<body>
    <!-- –ó–∞–≥—Ä—É–∑—á–∏–∫ -->
    <div class="loader-container" id="loader">
        <div class="loader"></div>
        <div class="loader-text">–ó–∞–≥—Ä—É–∂–∞–µ–º –∏–≥—Ä—ã...</div>
    </div>
    
    <!-- –§–æ–Ω —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π -->
    <div class="background-animation" id="background-animation"></div>
    
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
    <div class="notification" id="notification"></div>
    
    <!-- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="site-container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <header class="site-header">
            <h1 class="site-title">üéÆ 2 –ú–æ–±–∏–ª—å–Ω—ã–µ –ò–≥—Ä—ã</h1>
            <p class="site-subtitle">–ò–≥—Ä–∞–π—Ç–µ –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞! –ë–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏</p>
        </header>
        
        <!-- –°–µ—Ç–∫–∞ –∏–≥—Ä -->
        <main class="games-grid">
            <!-- –ò–≥—Ä–∞ 1: Minecraft Clicker -->
            <div class="game-card" data-game="minecraft-clicker">
                <div class="game-preview">
                    <div class="game-badge">–ö–õ–ò–ö–ï–†</div>
                    <!-- –ü—Ä–µ–≤—å—é Minecraft -->
                    <div style="width: 100%; height: 100%; background: linear-gradient(135deg, #3b7d42 0%, #2e6333 100%); display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden;">
                        <!-- –ë–ª–æ–∫ Minecraft -->
                        <div style="width: 80px; height: 80px; background: linear-gradient(45deg, #8B4513 25%, #A0522D 25%, #A0522D 50%, #8B4513 50%, #8B4513 75%, #A0522D 75%); background-size: 20px 20px; border: 4px solid #654321; border-radius: 10px; position: relative; transform: rotate(5deg); box-shadow: 0 10px 20px rgba(0,0,0,0.3); animation: blockFloat 3s infinite alternate;"></div>
                        
                        <!-- –ú–æ–Ω–µ—Ç–∫–∏ -->
                        <div style="position: absolute; top: 30px; right: 30px; width: 30px; height: 30px; background: radial-gradient(circle at 30% 30%, #FFD700, #B8860B); border-radius: 50%; box-shadow: 0 0 10px gold;"></div>
                        <div style="position: absolute; bottom: 40px; left: 40px; width: 25px; height: 25px; background: radial-gradient(circle at 30% 30%, #FFD700, #B8860B); border-radius: 50%; box-shadow: 0 0 10px gold;"></div>
                        <div style="position: absolute; top: 60px; left: 30px; width: 20px; height: 20px; background: radial-gradient(circle at 30% 30%, #FFD700, #B8860B); border-radius: 50%; box-shadow: 0 0 10px gold;"></div>
                    </div>
                </div>
                
                <div class="game-info">
                    <h2 class="game-title">
                        <span class="game-icon">‚õèÔ∏è</span>
                        Minecraft Clicker Pro
                    </h2>
                    
                    <p class="game-description">
                        –†–∞–∑—Ä—É—à–∞–π—Ç–µ –±–ª–æ–∫–∏, –¥–æ–±—ã–≤–∞–π—Ç–µ —Ä–µ—Å—É—Ä—Å—ã –∏ —É–ª—É—á—à–∞–π—Ç–µ —Å–≤–æ–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã! 
                        35 –≤–∏–¥–æ–≤ –±–ª–æ–∫–æ–≤, —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–∫–∞—á–∫–∏ –∏ –º–∞–≥–∞–∑–∏–Ω —É–ª—É—á—à–µ–Ω–∏–π. 
                        –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –º–æ–Ω–µ—Ç—ã –∏ —Å—Ç–∞–Ω—å—Ç–µ –º–∞—Å—Ç–µ—Ä–æ–º-—à–∞—Ö—Ç—ë—Ä–æ–º!
                    </p>
                    
                    <div class="game-stats">
                        <div class="game-stat">
                            <i class="fas fa-gem"></i>
                            <span>35 –±–ª–æ–∫–æ–≤</span>
                        </div>
                        <div class="game-stat">
                            <i class="fas fa-coins"></i>
                            <span>–ú–∞–≥–∞–∑–∏–Ω</span>
                        </div>
                        <div class="game-stat">
                            <i class="fas fa-chart-line"></i>
                            <span>–ü—Ä–æ–≥—Ä–µ—Å—Å</span>
                        </div>
                    </div>
                    
                    <button class="play-button" onclick="loadGame('minecraft-clicker')">
                        <i class="fas fa-play"></i>
                        –ò–≥—Ä–∞—Ç—å –≤ Minecraft Clicker
                    </button>
                </div>
            </div>
            
            <!-- –ò–≥—Ä–∞ 2: Talking Dunyakha -->
            <div class="game-card" data-game="talking-dunyakha">
                <div class="game-preview">
                    <div class="game-badge">–ü–ò–¢–û–ú–ï–¶</div>
                    <!-- –ü—Ä–µ–≤—å—é –∫–æ—Ä–æ–≤–∫–∏ -->
                    <div style="width: 100%; height: 100%; background: linear-gradient(135deg, #87CEEB 0%, #98FB98 100%); display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden;">
                        <!-- –ö–æ—Ä–æ–≤–∫–∞ -->
                        <div style="font-size: 100px; animation: cowBounce 2s infinite alternate; filter: drop-shadow(0 10px 15px rgba(0,0,0,0.2));">üêÑ</div>
                        
                        <!-- –¢—Ä–∞–≤–∞ -->
                        <div style="position: absolute; bottom: 0; left: 0; width: 100%; height: 40px; background: linear-gradient(to top, #4CAF50, #8BC34A);"></div>
                        
                        <!-- –û–±–ª–∞–∫–∞ -->
                        <div style="position: absolute; top: 30px; left: 30px; font-size: 40px; opacity: 0.8; animation: cloudMove 20s infinite linear;">‚òÅÔ∏è</div>
                        <div style="position: absolute; top: 50px; right: 40px; font-size: 35px; opacity: 0.6; animation: cloudMove 25s infinite linear reverse;">‚òÅÔ∏è</div>
                        
                        <!-- –°–µ—Ä–¥–µ—á–∫–∏ -->
                        <div style="position: absolute; top: 40px; right: 30px; font-size: 25px; color: #FF69B4; animation: heartFloat 3s infinite;">‚ù§Ô∏è</div>
                    </div>
                </div>
                
                <div class="game-info">
                    <h2 class="game-title">
                        <span class="game-icon">üêÆ</span>
                        My Talking Dunyakha
                    </h2>
                    
                    <p class="game-description">
                        –ó–∞–±–æ—Ç—å—Ç–µ—Å—å –æ –º–∏–ª–æ–π –≥–æ–≤–æ—Ä—è—â–µ–π –º–∏–Ω–∏-–∫–æ—Ä–æ–≤–∫–µ Dunyakha! 
                        –ö–æ—Ä–º–∏—Ç–µ, –∏–≥—Ä–∞–π—Ç–µ, —É–∫–ª–∞–¥—ã–≤–∞–π—Ç–µ —Å–ø–∞—Ç—å –∏ —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞–π—Ç–µ —Å –Ω–µ–π. 
                        4 —Ä–∞–∑–≤–∏–≤–∞—é—â–∏–µ –º–∏–Ω–∏-–∏–≥—Ä—ã –¥–ª—è –¥–µ—Ç–µ–π –æ—Ç 3 –ª–µ—Ç. –ë–µ–∑–æ–ø–∞—Å–Ω–æ –∏ –≤–µ—Å–µ–ª–æ!
                    </p>
                    
                    <div class="game-stats">
                        <div class="game-stat">
                            <i class="fas fa-heart"></i>
                            <span>–ó–∞–±–æ—Ç–∞</span>
                        </div>
                        <div class="game-stat">
                            <i class="fas fa-gamepad"></i>
                            <span>4 –º–∏–Ω–∏-–∏–≥—Ä—ã</span>
                        </div>
                        <div class="game-stat">
                            <i class="fas fa-child"></i>
                            <span>–î–ª—è –¥–µ—Ç–µ–π</span>
                        </div>
                    </div>
                    
                    <button class="play-button" onclick="loadGame('talking-dunyakha')">
                        <i class="fas fa-play"></i>
                        –ò–≥—Ä–∞—Ç—å –≤ Talking Dunyakha
                    </button>
                </div>
            </div>
        </main>
        
        <!-- –§—É—Ç–µ—Ä -->
        <footer class="site-footer">
            <p>¬© 2024 –ú–æ–±–∏–ª—å–Ω—ã–µ –∏–≥—Ä—ã. –í—Å–µ –∏–≥—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞.</p>
            <p class="author-info">üë®‚Äçüíª –ê–≤—Ç–æ—Ä –∏–≥—Ä: –î–∞–Ω–∏–ª –§–∞—Ä–¥—Ç–¥–∏–Ω–æ–≤ | –ò–¥–µ—è: –î–∞–Ω–∏–ª–∞ –§–∞—Ä–¥—Ç–¥–∏–Ω–æ–≤–∞</p>
        </footer>
    </div>
    
    <!-- –≠–∫—Ä–∞–Ω –¥–ª—è Minecraft Clicker -->
    <div class="game-screen" id="minecraft-clicker-screen">
        <div class="game-header">
            <button class="game-back-button" onclick="closeGame()">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h2 class="game-screen-title">Minecraft Clicker Pro</h2>
            <div style="width: 50px;"></div>
        </div>
        <div class="game-content" id="minecraft-clicker-content">
            <!-- –ò–≥—Ä–∞ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω–∞ —Å—é–¥–∞ -->
        </div>
    </div>
    
    <!-- –≠–∫—Ä–∞–Ω –¥–ª—è Talking Dunyakha -->
    <div class="game-screen" id="talking-dunyakha-screen">
        <div class="game-header">
            <button class="game-back-button" onclick="closeGame()">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h2 class="game-screen-title">My Talking Dunyakha</h2>
            <div style="width: 50px;"></div>
        </div>
        <div class="game-content" id="talking-dunyakha-content">
            <!-- –ò–≥—Ä–∞ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω–∞ —Å—é–¥–∞ -->
        </div>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∞ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ -->
    <button class="fullscreen-btn" id="fullscreen-btn" onclick="toggleFullscreen()">
        <i class="fas fa-expand"></i>
    </button>

    <script>
        // ============================================
        // –û–°–ù–û–í–ù–û–ô –°–ö–†–ò–ü–¢ –°–ê–ô–¢–ê
        // ============================================
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        const loader = document.getElementById('loader');
        const backgroundAnimation = document.getElementById('background-animation');
        const notification = document.getElementById('notification');
        const fullscreenBtn = document.getElementById('fullscreen-btn');
        
        // –¢–µ–∫—É—â–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è –∏–≥—Ä–∞
        let currentGame = null;
        let gameInstance = null;
        
        // ============================================
        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –°–ê–ô–¢–ê
        // ============================================
        
        function initSite() {
            // –°–æ–∑–¥–∞–µ–º —á–∞—Å—Ç–∏—Ü—ã –¥–ª—è —Ñ–æ–Ω–∞
            createParticles();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π
            setupEventListeners();
            
            // –°–∫—Ä—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑—á–∏–∫
            setTimeout(() => {
                loader.classList.add('hidden');
                showNotification('–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É –¥–ª—è –Ω–∞—á–∞–ª–∞! üéÆ');
            }, 1500);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–∫–æ–Ω–∫—É –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
            updateFullscreenIcon();
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ —á–∞—Å—Ç–∏—Ü –¥–ª—è —Ñ–æ–Ω–∞
        function createParticles() {
            const particleCount = window.innerWidth < 480 ? 15 : 25;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä
                const size = Math.random() * 30 + 10;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                
                // –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏
                particle.style.animationDelay = `${Math.random() * 15}s`;
                particle.style.animationDuration = `${Math.random() * 20 + 10}s`;
                
                // –°–ª—É—á–∞–π–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
                particle.style.opacity = Math.random() * 0.2 + 0.05;
                
                backgroundAnimation.appendChild(particle);
            }
        }
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–∞–º –∏–≥—Ä
            document.querySelectorAll('.game-card').forEach(card => {
                card.addEventListener('click', function(e) {
                    if (!e.target.closest('.play-button')) {
                        const game = this.dataset.game;
                        loadGame(game);
                    }
                });
            });
            
            // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –¥–≤–æ–π–Ω–æ–º —Ç–∞–ø–µ
            let lastTouchEnd = 0;
            document.addEventListener('touchend', function(e) {
                const now = Date.now();
                if (now - lastTouchEnd <= 300) {
                    e.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Ä–∞–Ω–∞
            window.addEventListener('resize', handleResize);
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
            document.addEventListener('fullscreenchange', updateFullscreenIcon);
            document.addEventListener('webkitfullscreenchange', updateFullscreenIcon);
            document.addEventListener('mozfullscreenchange', updateFullscreenIcon);
            document.addEventListener('MSFullscreenChange', updateFullscreenIcon);
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
            window.addEventListener('beforeunload', saveAllGames);
            
            // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
            document.addEventListener('contextmenu', (e) => {
                if (currentGame) {
                    e.preventDefault();
                    return false;
                }
            });
        }
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞
        function handleResize() {
            // –ü–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º —á–∞—Å—Ç–∏—Ü—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞
            backgroundAnimation.innerHTML = '';
            createParticles();
        }
        
        // –û–±–Ω–æ–≤–∏—Ç—å –∏–∫–æ–Ω–∫—É –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
        function updateFullscreenIcon() {
            if (document.fullscreenElement || 
                document.webkitFullscreenElement || 
                document.mozFullScreenElement ||
                document.msFullscreenElement) {
                fullscreenBtn.innerHTML = '<i class="fas fa-compress"></i>';
            } else {
                fullscreenBtn.innerHTML = '<i class="fas fa-expand"></i>';
            }
        }
        
        // –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
        function toggleFullscreen() {
            const elem = document.documentElement;
            
            if (!document.fullscreenElement && 
                !document.webkitFullscreenElement && 
                !document.mozFullScreenElement &&
                !document.msFullscreenElement) {
                // –í–æ–π—Ç–∏ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
                if (elem.requestFullscreen) {
                    elem.requestFullscreen();
                } else if (elem.webkitRequestFullscreen) {
                    elem.webkitRequestFullscreen();
                } else if (elem.mozRequestFullScreen) {
                    elem.mozRequestFullScreen();
                } else if (elem.msRequestFullscreen) {
                    elem.msRequestFullscreen();
                }
                showNotification('–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –≤–∫–ª—é—á–µ–Ω');
            } else {
                // –í—ã–π—Ç–∏ –∏–∑ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.webkitExitFullscreen) {
                    document.webkitExitFullscreen();
                } else if (document.mozCancelFullScreen) {
                    document.mozCancelFullScreen();
                } else if (document.msExitFullscreen) {
                    document.msExitFullscreen();
                }
                showNotification('–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –≤—ã–∫–ª—é—á–µ–Ω');
            }
        }
        
        // ============================================
        // –£–ü–†–ê–í–õ–ï–ù–ò–ï –ò–ì–†–ê–ú–ò
        // ============================================
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã
        function loadGame(gameId) {
            currentGame = gameId;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            showNotification(`–ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã... ‚è≥`);
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
            document.querySelector('.site-container').style.display = 'none';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –∏–≥—Ä—ã
            const gameScreen = document.getElementById(`${gameId}-screen`);
            gameScreen.classList.add('active');
            
            // –í—Å—Ç–∞–≤–ª—è–µ–º –∏–≥—Ä—É –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
            const gameContent = document.getElementById(`${gameId}-content`);
            gameContent.innerHTML = '';
            
            // –°–æ–∑–¥–∞–µ–º iframe –¥–ª—è –∏–≥—Ä—ã
            const iframe = document.createElement('iframe');
            iframe.style.cssText = `
                width: 100%;
                height: 100%;
                border: none;
                position: absolute;
                top: 0;
                left: 0;
            `;
            
            iframe.srcdoc = getGameHTML(gameId);
            gameContent.appendChild(iframe);
            
            // –î–∞–µ–º iframe –≤—Ä–µ–º—è –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É
            setTimeout(() => {
                showNotification(`–ò–≥—Ä–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞! üéÆ`);
            }, 1000);
        }
        
        // –ü–æ–ª—É—á–∏—Ç—å HTML –∫–æ–¥ –∏–≥—Ä—ã
        function getGameHTML(gameId) {
            if (gameId === 'minecraft-clicker') {
                return `
                <!DOCTYPE html>
                <html lang="ru">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
                    <title>Minecraft Clicker Pro</title>
                    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
                    <style>
                        ${document.querySelector('style').innerHTML}
                    </style>
                    <style>
                        /* –°–¢–ò–õ–ò MINECRAFT CLICKER –ò–ó –í–ê–®–ï–ì–û –ö–û–î–ê */
                        ${minecraftClickerStyles}
                    </style>
                </head>
                <body>
                    <div id="game-container">
                        ${minecraftClickerHTML}
                    </div>
                    <script>
                        ${minecraftClickerScript}
                    <\/script>
                </body>
                </html>`;
            } else {
                return `
                <!DOCTYPE html>
                <html lang="ru">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
                    <title>My Talking Dunyakha</title>
                    <style>
                        ${document.querySelector('style').innerHTML}
                    </style>
                    <style>
                        /* –°–¢–ò–õ–ò TALKING DUNYAKHA –ò–ó –í–ê–®–ï–ì–û –ö–û–î–ê */
                        ${talkingDunyakhaStyles}
                    </style>
                </head>
                <body>
                    ${talkingDunyakhaHTML}
                    <script>
                        ${talkingDunyakhaScript}
                    <\/script>
                </body>
                </html>`;
            }
        }
        
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –∏–≥—Ä—ã
        function closeGame() {
            if (!currentGame) return;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            showNotification(`–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–≥—Ä—ã... üíæ`);
            
            // –°–∫—Ä—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –∏–≥—Ä—ã
            const gameScreen = document.getElementById(`${currentGame}-screen`);
            gameScreen.classList.remove('active');
            
            // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç –∏–≥—Ä—ã
            const gameContent = document.getElementById(`${currentGame}-content`);
            gameContent.innerHTML = '';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
            document.querySelector('.site-container').style.display = 'flex';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            setTimeout(() => {
                showNotification(`–ò–≥—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞! ‚úÖ`);
            }, 500);
            
            currentGame = null;
            gameInstance = null;
        }
        
        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –∏–≥—Ä—ã
        function saveAllGames() {
            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤—Å–µ—Ö –∏–≥—Ä
            console.log('–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤—Å–µ—Ö –∏–≥—Ä...');
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(message) {
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // ============================================
        // –ö–û–î–´ –ò–ì–† (–≤—Å—Ç–∞–≤–ª–µ–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é)
        // ============================================
        
        // MINECRAFT CLICKER STYLES
        const minecraftClickerStyles = `
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            user-select: none;
        }
        
        :root {
            --primary-color: #4CAF50;
            --secondary-color: #2196F3;
            --accent-color: #FF9800;
            --danger-color: #F44336;
            --success-color: #4CAF50;
            --gold-color: #FFD700;
            --dark-bg: #1a1a2e;
            --menu-bg: #0f4c75;
            --block-border: #8B4513;
        }
        
        body {
            background-color: var(--dark-bg);
            color: white;
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        #game-container {
            width: 100%;
            height: 100%;
            max-width: 500px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
        }
        
        /* –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω */
        #loading-screen {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, var(--menu-bg), #1b262c);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 5px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: var(--gold-color);
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        .loading-text {
            font-size: 1.2rem;
            color: var(--gold-color);
        }
        
        /* –ú–µ–Ω—é */
        #menu-screen {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, var(--menu-bg), #1b262c);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }
        
        .menu-title {
            font-size: 3.5rem;
            color: var(--gold-color);
            margin-bottom: 2rem;
            text-align: center;
            text-shadow: 3px 3px 0 var(--block-border), 5px 5px 0 #000;
            letter-spacing: 2px;
            font-family: 'Minecraft', monospace;
        }
        
        .menu-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            width: 80%;
            max-width: 300px;
        }
        
        .menu-btn {
            background: linear-gradient(45deg, var(--primary-color), #2E7D32);
            color: white;
            border: none;
            padding: 1rem;
            font-size: 1.3rem;
            border-radius: 12px;
            cursor: pointer;
            box-shadow: 0 6px 0 #1B5E20, 0 8px 15px rgba(0,0,0,0.4);
            transition: all 0.2s;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .menu-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 0 #1B5E20, 0 10px 20px rgba(0,0,0,0.5);
        }
        
        .menu-btn:active {
            transform: translateY(4px);
            box-shadow: 0 2px 0 #1B5E20, 0 5px 10px rgba(0,0,0,0.4);
        }
        
        .menu-btn i {
            font-size: 1.2rem;
        }
        
        .continue-btn {
            background: linear-gradient(45deg, var(--secondary-color), #1565C0);
            box-shadow: 0 6px 0 #0D47A1, 0 8px 15px rgba(0,0,0,0.4);
        }
        
        .continue-btn:hover {
            box-shadow: 0 8px 0 #0D47A1, 0 10px 20px rgba(0,0,0,0.5);
        }
        
        .continue-btn:active {
            box-shadow: 0 2px 0 #0D47A1, 0 5px 10px rgba(0,0,0,0.4);
        }
        
        .stats-btn {
            background: linear-gradient(45deg, #9C27B0, #7B1FA2);
            box-shadow: 0 6px 0 #4A148C, 0 8px 15px rgba(0,0,0,0.4);
        }
        
        .stats-btn:hover {
            box-shadow: 0 8px 0 #4A148C, 0 10px 20px rgba(0,0,0,0.5);
        }
        
        .stats-btn:active {
            box-shadow: 0 2px 0 #4A148C, 0 5px 10px rgba(0,0,0,0.4);
        }
        
        .settings-btn {
            background: linear-gradient(45deg, #757575, #616161);
            box-shadow: 0 6px 0 #424242, 0 8px 15px rgba(0,0,0,0.4);
        }
        
        .settings-btn:hover {
            box-shadow: 0 8px 0 #424242, 0 10px 20px rgba(0,0,0,0.5);
        }
        
        .settings-btn:active {
            box-shadow: 0 2px 0 #424242, 0 5px 10px rgba(0,0,0,0.4);
        }
        
        .privacy-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: transparent;
            border: 2px solid #fff;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
        }
        
        .privacy-btn:hover {
            background: rgba(255,255,255,0.1);
        }
        
        .version {
            position: absolute;
            bottom: 20px;
            color: rgba(255,255,255,0.5);
            font-size: 0.8rem;
        }
        
        /* –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω */
        #game-screen {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, #87CEEB, #1E90FF);
            display: none;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            z-index: 5;
        }
        
        .game-header {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            background-color: rgba(0, 0, 0, 0.6);
            border-radius: 12px;
            margin-bottom: 10px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .coins-container {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1.2rem;
            color: var(--gold-color);
            font-weight: bold;
            background: rgba(0,0,0,0.4);
            padding: 5px 12px;
            border-radius: 20px;
        }
        
        .coin-icon {
            width: 24px;
            height: 24px;
            background: radial-gradient(circle at 30% 30%, var(--gold-color), #B8860B);
            border-radius: 50%;
            position: relative;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .coin-icon::after {
            content: '';
            position: absolute;
            top: 5px;
            left: 8px;
            width: 8px;
            height: 8px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
        }
        
        .level-container {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 1rem;
            color: #4CAF50;
            font-weight: bold;
            background: rgba(0,0,0,0.4);
            padding: 5px 12px;
            border-radius: 20px;
        }
        
        .game-buttons {
            display: flex;
            gap: 10px;
        }
        
        .game-header-btn {
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s;
        }
        
        .game-header-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.1);
        }
        
        .block-info-container {
            width: 100%;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .block-name {
            font-size: 2rem;
            color: #fff;
            margin-bottom: 5px;
            text-shadow: 2px 2px 0 #000;
            font-family: 'Minecraft', monospace;
        }
        
        .block-type {
            font-size: 1rem;
            color: #ccc;
            margin-bottom: 10px;
        }
        
        .health-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 5px;
        }
        
        .health-display {
            font-size: 1.5rem;
            color: #ff6b6b;
            font-weight: bold;
            text-shadow: 1px 1px 0 #000;
        }
        
        .health-icon {
            color: #ff6b6b;
            font-size: 1.5rem;
        }
        
        .block-container {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            position: relative;
        }
        
        .block {
            width: 220px;
            height: 220px;
            position: relative;
            cursor: pointer;
            transition: transform 0.05s;
            user-select: none;
            border-radius: 8px;
        }
        
        .block.hit {
            animation: hitEffect 0.1s ease-out;
        }
        
        .block.regenerating {
            animation: regeneratingEffect 2s infinite;
        }
        
        .block-img {
            width: 100%;
            height: 100%;
            border-radius: 8px;
            box-shadow: 
                0 10px 20px rgba(0,0,0,0.5),
                inset 0 0 20px rgba(0,0,0,0.2);
            border: 6px solid;
            image-rendering: pixelated;
        }
        
        .cracks-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            pointer-events: none;
            z-index: 2;
            background-size: cover;
            background-position: center;
            border-radius: 8px;
        }
        
        .regeneration-indicator {
            position: absolute;
            top: -35px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(76, 175, 80, 0.9);
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            display: none;
            z-index: 10;
            white-space: nowrap;
        }
        
        .progress-bar-container {
            width: 95%;
            height: 25px;
            background-color: #333;
            border-radius: 12px;
            margin-bottom: 20px;
            overflow: hidden;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
            border: 2px solid var(--block-border);
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, var(--primary-color), #8BC34A);
            width: 0%;
            transition: width 0.3s;
            border-radius: 12px;
            position: relative;
            overflow: hidden;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255,255,255,0.3) 50%, 
                transparent 100%);
            animation: shine 2s infinite;
        }
        
        .game-stats {
            width: 95%;
            display: flex;
            justify-content: space-between;
            background: rgba(0,0,0,0.5);
            border-radius: 10px;
            padding: 10px;
            margin-bottom: 10px;
        }
        
        .stat-item {
            text-align: center;
            flex: 1;
        }
        
        .stat-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--gold-color);
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: #ccc;
        }
        
        .coin-hit-animation {
            position: absolute;
            font-size: 1.5rem;
            color: var(--gold-color);
            font-weight: bold;
            pointer-events: none;
            z-index: 10;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
            animation: coinHitFloat 1s ease-out forwards;
        }
        
        .auto-clicker-info {
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.7);
            padding: 5px 10px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--primary-color);
            display: none;
        }
        
        .damage-indicator {
            position: absolute;
            font-size: 1.2rem;
            color: #ff4444;
            font-weight: bold;
            pointer-events: none;
            z-index: 10;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
            animation: damageFloat 1s ease-out forwards;
        }
        
        /* –ú–∞–≥–∞–∑–∏–Ω */
        #shop-screen, #upgrades-screen, #stats-screen, #settings-screen, #credits-screen {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, #2c3e50, #1a1a2e);
            display: none;
            flex-direction: column;
            padding: 20px;
            z-index: 15;
            overflow-y: auto;
        }
        
        .screen-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--primary-color);
        }
        
        .screen-title {
            font-size: 2rem;
            color: var(--gold-color);
            font-family: 'Minecraft', monospace;
        }
        
        .back-btn {
            background: linear-gradient(45deg, #f44336, #d32f2f);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.9rem;
            box-shadow: 0 3px 0 #b71c1c;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .shop-categories {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .category-btn {
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
        }
        
        .category-btn.active {
            background: var(--primary-color);
            color: white;
            font-weight: bold;
        }
        
        .shop-items {
            flex-grow: 1;
            overflow-y: auto;
            padding-right: 5px;
        }
        
        .shop-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            border: 2px solid var(--block-border);
            transition: all 0.3s;
        }
        
        .shop-item:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
        
        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .item-title {
            font-size: 1.3rem;
            color: #4CAF50;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .item-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
        }
        
        .item-price {
            color: var(--gold-color);
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .item-description {
            font-size: 0.9rem;
            color: #ccc;
            margin-bottom: 12px;
            line-height: 1.4;
        }
        
        .item-stats {
            display: flex;
            gap: 15px;
            margin-bottom: 12px;
            font-size: 0.8rem;
            color: #aaa;
        }
        
        .buy-btn {
            background: linear-gradient(45deg, var(--primary-color), #388E3C);
            color: white;
            border: none;
            padding: 10px 20px;
            width: 100%;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .buy-btn:disabled {
            background: linear-gradient(45deg, #757575, #616161);
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .buy-btn:not(:disabled):hover {
            background: linear-gradient(45deg, #66BB6A, #43A047);
            transform: translateY(-2px);
        }
        
        .owned-badge {
            background-color: var(--secondary-color);
            color: white;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .item-level {
            color: var(--accent-color);
            font-weight: bold;
        }
        
        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .stat-card-value {
            font-size: 1.8rem;
            color: var(--gold-color);
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-card-label {
            font-size: 0.9rem;
            color: #ccc;
        }
        
        /* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ */
        .settings-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 20px;
        }
        
        .setting-item {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 15px;
        }
        
        .setting-title {
            font-size: 1.2rem;
            color: white;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .setting-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .toggle-switch {
            position: relative;
            width: 60px;
            height: 30px;
        }
        
        .toggle-checkbox {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        .toggle-checkbox:checked + .toggle-slider {
            background-color: var(--primary-color);
        }
        
        .toggle-checkbox:checked + .toggle-slider:before {
            transform: translateX(30px);
        }
        
        .save-notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--success-color);
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: bold;
            z-index: 100;
            display: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        /* –£–ª—É—á—à–µ–Ω–∏—è */
        .upgrades-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .upgrade-card {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .upgrade-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-color);
        }
        
        .upgrade-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--accent-color);
        }
        
        .upgrade-title {
            font-size: 1.2rem;
            color: white;
            margin-bottom: 5px;
        }
        
        .upgrade-description {
            font-size: 0.9rem;
            color: #ccc;
            margin-bottom: 10px;
            min-height: 40px;
        }
        
        .upgrade-price {
            color: var(--gold-color);
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        /* –¢–∏—Ç—Ä—ã */
        .credits-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            animation: creditsScroll 30s linear infinite;
        }
        
        .credits-title {
            font-size: 3rem;
            color: var(--gold-color);
            margin-bottom: 40px;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }
        
        .credit-item {
            margin-bottom: 30px;
            opacity: 0;
            animation: fadeInOut 5s linear infinite;
        }
        
        .credit-role {
            font-size: 1.2rem;
            color: #ccc;
            margin-bottom: 5px;
        }
        
        .credit-name {
            font-size: 2rem;
            color: white;
            font-weight: bold;
        }
        
        .final-thanks {
            margin-top: 50px;
            font-size: 2.5rem;
            color: var(--accent-color);
            text-shadow: 0 0 10px rgba(255, 152, 0, 0.5);
            animation: pulse 2s infinite;
        }
        
        .return-btn {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, var(--primary-color), #2E7D32);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
            z-index: 20;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes hitEffect {
            0% { transform: scale(1); }
            50% { transform: scale(0.95); }
            100% { transform: scale(1); }
        }
        
        @keyframes regeneratingEffect {
            0% { box-shadow: 0 0 0 rgba(76, 175, 80, 0.5); }
            50% { box-shadow: 0 0 20px rgba(76, 175, 80, 0.8); }
            100% { boxShadow: 0 0 0 rgba(76, 175, 80, 0.5); }
        }
        
        @keyframes breakBlock {
            0% { transform: scale(1); opacity: 1; filter: brightness(1); }
            50% { transform: scale(1.1); opacity: 0.8; filter: brightness(1.5); }
            100% { transform: scale(0); opacity: 0; filter: brightness(2); }
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        @keyframes coinHitFloat {
            0% { 
                transform: translateY(0) scale(1); 
                opacity: 1; 
            }
            50% { 
                transform: translateY(-40px) scale(1.2); 
                opacity: 0.8; 
            }
            100% { 
                transform: translateY(-80px) scale(0.5); 
                opacity: 0; 
            }
        }
        
        @keyframes damageFloat {
            0% { 
                transform: translateY(0) scale(1); 
                opacity: 1; 
            }
            50% { 
                transform: translateY(-30px) scale(1.1); 
                opacity: 0.8; 
            }
            100% { 
                transform: translateY(-60px) scale(0.7); 
                opacity: 0; 
            }
        }
        
        @keyframes coinPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes autoClickerPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes creditsScroll {
            0% { transform: translateY(100%); }
            100% { transform: translateY(-100%); }
        }
        
        @keyframes fadeInOut {
            0%, 100% { opacity: 0; }
            10%, 90% { opacity: 1; }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.9; }
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            z-index: 20;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s;
        }
        
        .modal-content {
            background-color: #1b262c;
            padding: 2rem;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            max-height: 80%;
            overflow-y: auto;
            border: 3px solid var(--primary-color);
            animation: fadeIn 0.4s;
        }
        
        .modal-title {
            font-size: 1.8rem;
            color: var(--gold-color);
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .modal-text {
            font-size: 1rem;
            line-height: 1.5;
            margin-bottom: 1.5rem;
            color: #ccc;
        }
        
        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        
        .modal-btn {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .modal-btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .modal-btn-secondary {
            background-color: #757575;
            color: white;
        }
        
        /* –§–æ–Ω */
        .minecraft-bg {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
                radial-gradient(circle at 90% 80%, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: 1;
        }
        
        .ground {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 30%;
            background: linear-gradient(to top, #8B4513, #A0522D);
            z-index: 2;
        }
        
        .cloud {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            z-index: 0;
            animation: cloudFloat 60s linear infinite;
        }
        
        .cloud:nth-child(1) {
            width: 100px;
            height: 40px;
            top: 20%;
            left: -100px;
            animation-delay: 0s;
        }
        
        .cloud:nth-child(2) {
            width: 150px;
            height: 60px;
            top: 15%;
            left: -150px;
            animation-delay: 20s;
        }
        
        .cloud:nth-child(3) {
            width: 80px;
            height: 30px;
            top: 30%;
            left: -80px;
            animation-delay: 40s;
        }
        
        @keyframes cloudFloat {
            0% { transform: translateX(0); }
            100% { transform: translateX(calc(100vw + 200px)); }
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 500px) {
            .block {
                width: 190px;
                height: 190px;
            }
            
            .menu-title {
                font-size: 2.8rem;
            }
            
            .menu-btn {
                padding: 0.9rem;
                font-size: 1.2rem;
            }
            
            .block-name {
                font-size: 1.7rem;
            }
            
            .game-header {
                padding: 10px;
            }
            
            .coins-container {
                font-size: 1.1rem;
            }
            
            .screen-title {
                font-size: 1.7rem;
            }
            
            .upgrades-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .credits-title {
                font-size: 2.2rem;
            }
            
            .credit-name {
                font-size: 1.5rem;
            }
            
            .final-thanks {
                font-size: 1.8rem;
            }
        }
        `;

        // MINECRAFT CLICKER HTML
        const minecraftClickerHTML = `
        <!-- –§–æ–Ω -->
        <div class="minecraft-bg"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="ground"></div>
        
        <!-- –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω -->
        <div id="loading-screen">
            <div class="loading-spinner"></div>
            <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã...</div>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω –º–µ–Ω—é -->
        <div id="menu-screen">
            <h1 class="menu-title">MINECRAFT CLICKER PRO</h1>
            <div class="menu-buttons">
                <button class="menu-btn continue-btn" id="continue-btn">
                    <i class="fas fa-play"></i> –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                </button>
                <button class="menu-btn" id="new-game-btn">
                    <i class="fas fa-plus-circle"></i> –ù–æ–≤–∞—è –∏–≥—Ä–∞
                </button>
                <button class="menu-btn stats-btn" id="stats-menu-btn">
                    <i class="fas fa-chart-bar"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                </button>
                <button class="menu-btn" id="shop-menu-btn">
                    <i class="fas fa-shopping-cart"></i> –ú–∞–≥–∞–∑–∏–Ω
                </button>
                <button class="menu-btn" id="upgrades-menu-btn">
                    <i class="fas fa-cogs"></i> –£–ª—É—á—à–µ–Ω–∏—è
                </button>
                <button class="menu-btn settings-btn" id="settings-menu-btn">
                    <i class="fas fa-cog"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                </button>
            </div>
            <button class="privacy-btn" id="privacy-btn">–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</button>
            <div class="version">–í–µ—Ä—Å–∏—è 2.1</div>
        </div>
        
        <!-- –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
        <div id="game-screen">
            <div class="game-header">
                <div class="coins-container">
                    <div class="coin-icon"></div>
                    <span id="coins-counter">0</span>
                </div>
                <div class="level-container">
                    <i class="fas fa-layer-group"></i>
                    <span id="level-counter">–£—Ä. 1</span>
                </div>
                <div class="game-buttons">
                    <button class="game-header-btn" id="game-shop-btn" title="–ú–∞–≥–∞–∑–∏–Ω">
                        <i class="fas fa-shopping-cart"></i>
                    </button>
                    <button class="game-header-btn" id="game-upgrades-btn" title="–£–ª—É—á—à–µ–Ω–∏—è">
                        <i class="fas fa-cogs"></i>
                    </button>
                    <button class="game-header-btn" id="game-stats-btn" title="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞">
                        <i class="fas fa-chart-bar"></i>
                    </button>
                    <button class="game-header-btn" id="game-menu-btn" title="–ú–µ–Ω—é">
                        <i class="fas fa-home"></i>
                    </button>
                </div>
            </div>
            
            <div class="block-info-container">
                <div class="block-name" id="block-name">–ó–µ–º–ª—è</div>
                <div class="block-type" id="block-type">–ë–∞–∑–æ–≤—ã–π –±–ª–æ–∫</div>
                <div class="health-container">
                    <i class="fas fa-heart health-icon"></i>
                    <div class="health-display" id="health-display">15/15</div>
                </div>
            </div>
            
            <div class="block-container">
                <div class="block" id="block">
                    <img src="" alt="–ë–ª–æ–∫" class="block-img" id="block-img">
                    <div class="cracks-overlay" id="cracks-overlay"></div>
                    <div class="regeneration-indicator" id="regeneration-indicator">–†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è!</div>
                </div>
            </div>
            
            <div class="progress-bar-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            
            <div class="game-stats">
                <div class="stat-item">
                    <div class="stat-value" id="dps-counter">0</div>
                    <div class="stat-label">–£–í–°</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="total-clicks">0</div>
                    <div class="stat-label">–ö–ª–∏–∫–æ–≤</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="blocks-broken">0</div>
                    <div class="stat-label">–ë–ª–æ–∫–æ–≤</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="play-time">0:00</div>
                    <div class="stat-label">–í—Ä–µ–º—è</div>
                </div>
            </div>
            
            <div class="auto-clicker-info" id="auto-clicker-info"></div>
        </div>
        
        <!-- –ú–∞–≥–∞–∑–∏–Ω -->
        <div id="shop-screen">
            <div class="screen-header">
                <h2 class="screen-title">–ú–∞–≥–∞–∑–∏–Ω</h2>
                <button class="back-btn" id="shop-back-btn">
                    <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                </button>
            </div>
            
            <div class="shop-categories">
                <button class="category-btn active" data-category="all">–í—Å–µ</button>
                <button class="category-btn" data-category="clickers">–ö–ª–∏–∫–µ—Ä—ã</button>
                <button class="category-btn" data-category="boosters">–ë—É—Å—Ç–µ—Ä—ã</button>
                <button class="category-btn" data-category="special">–û—Å–æ–±—ã–µ</button>
            </div>
            
            <div class="shop-items" id="shop-items-container">
                <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>
        
        <!-- –£–ª—É—á—à–µ–Ω–∏—è -->
        <div id="upgrades-screen">
            <div class="screen-header">
                <h2 class="screen-title">–£–ª—É—á—à–µ–Ω–∏—è</h2>
                <button class="back-btn" id="upgrades-back-btn">
                    <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                </button>
            </div>
            
            <div class="upgrades-grid" id="upgrades-container">
                <!-- –£–ª—É—á—à–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>
        
        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div id="stats-screen">
            <div class="screen-header">
                <h2 class="screen-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <button class="back-btn" id="stats-back-btn">
                    <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                </button>
            </div>
            
            <div class="stats-container" id="stats-container">
                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>
        
        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
        <div id="settings-screen">
            <div class="screen-header">
                <h2 class="screen-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                <button class="back-btn" id="settings-back-btn">
                    <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                </button>
            </div>
            
            <div class="settings-container">
                <div class="setting-item">
                    <div class="setting-title">
                        <i class="fas fa-volume-up"></i>
                        –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
                    </div>
                    <div class="setting-controls">
                        <label class="toggle-switch">
                            <input type="checkbox" id="sound-toggle" class="toggle-checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-title">
                        <i class="fas fa-bell"></i>
                        –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                    </div>
                    <div class="setting-controls">
                        <label class="toggle-switch">
                            <input type="checkbox" id="notifications-toggle" class="toggle-checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-title">
                        <i class="fas fa-save"></i>
                        –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
                    </div>
                    <div class="setting-controls">
                        <label class="toggle-switch">
                            <input type="checkbox" id="autosave-toggle" class="toggle-checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-title">
                        <i class="fas fa-palette"></i>
                        –ê–Ω–∏–º–∞—Ü–∏–∏
                    </div>
                    <div class="setting-controls">
                        <label class="toggle-switch">
                            <input type="checkbox" id="animations-toggle" class="toggle-checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-title">
                        <i class="fas fa-trash"></i>
                        –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏
                    </div>
                    <div class="setting-controls">
                        <button class="menu-btn" id="clear-data-btn" style="padding: 8px 15px; font-size: 0.9rem;">
                            <i class="fas fa-trash-alt"></i> –û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
                        </button>
                    </div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-title">
                        <i class="fas fa-info-circle"></i>
                        –û –∏–≥—Ä–µ
                    </div>
                    <div class="setting-controls">
                        <button class="menu-btn" id="about-btn" style="padding: 8px 15px; font-size: 0.9rem;">
                            <i class="fas fa-info"></i> –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –¢–∏—Ç—Ä—ã -->
        <div id="credits-screen">
            <div class="screen-header">
                <h2 class="screen-title">–¢–∏—Ç—Ä—ã</h2>
            </div>
            
            <div class="credits-content" id="credits-content">
                <div class="credits-title">Minecraft Clicker Pro</div>
                
                <div class="credit-item" style="animation-delay: 0s;">
                    <div class="credit-role">–ê–≤—Ç–æ—Ä –∏–≥—Ä—ã</div>
                    <div class="credit-name">–î–∞–Ω–∏–ª –§–∞—Ä–¥—Ç–¥–∏–Ω–æ–≤</div>
                </div>
                
                <div class="credit-item" style="animation-delay: 3s;">
                    <div class="credit-role">–ò–¥–µ—è –∏–≥—Ä—ã</div>
                    <div class="credit-name">–î–∞–Ω–∏–ª–∞ –§–∞—Ä–¥—Ç–¥–∏–Ω–æ–≤</div>
                </div>
                
                <div class="credit-item" style="animation-delay: 6s;">
                    <div class="credit-role">–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞</div>
                    <div class="credit-name">–î–∞–Ω–∏–ª–∞ –§–∞—Ä–¥—Ç–¥–∏–Ω–æ–≤</div>
                </div>
                
                <div class="credit-item" style="animation-delay: 9s;">
                    <div class="credit-role">–î–∏–∑–∞–π–Ω</div>
                    <div class="credit-name">–î–∞–Ω–∏–ª–∞ –§–∞—Ä–¥—Ç–¥–∏–Ω–æ–≤</div>
                </div>
                
                <div class="credit-item" style="animation-delay: 12s;">
                    <div class="credit-role">–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</div>
                    <div class="credit-name">–î–∞–Ω–∏–ª–∞ –§–∞—Ä–¥—Ç–¥–∏–Ω–æ–≤</div>
                </div>
                
                <div class="credit-item" style="animation-delay: 15s;">
                    <div class="credit-role">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</div>
                    <div class="credit-name">–î–∞–Ω–∏–ª–∞ –§–∞—Ä–¥—Ç–¥–∏–Ω–æ–≤</div>
                </div>
                
                <div class="credit-item" style="animation-delay: 18s;">
                    <div class="credit-role">–ó–≤—É–∫–æ–≤–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ</div>
                    <div class="credit-name">–î–∞–Ω–∏–ª–∞ –§–∞—Ä–¥—Ç–¥–∏–Ω–æ–≤</div>
                </div>
                
                <div class="credit-item" style="animation-delay: 21s;">
                    <div class="credit-role">–ì–µ–π–º–¥–∏–∑–∞–π–Ω</div>
                    <div class="credit-name">–î–∞–Ω–∏–ª–∞ –§–∞—Ä–¥—Ç–¥–∏–Ω–æ–≤</div>
                </div>
                
                <div class="credit-item" style="animation-delay: 24s;">
                    <div class="credit-role">–ü—Ä–æ–¥—é—Å–∏—Ä–æ–≤–∞–Ω–∏–µ</div>
                    <div class="credit-name">–î–∞–Ω–∏–ª–∞ –§–∞—Ä–¥—Ç–¥–∏–Ω–æ–≤</div>
                </div>
                
                <div class="final-thanks">–°–ü–ê–°–ò–ë–û –ó–ê –í–ù–ò–ú–ê–ù–ò–ï!</div>
            </div>
            
            <button class="return-btn" id="credits-back-btn">
                <i class="fas fa-home"></i> –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é
            </button>
        </div>
        
        <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
        <div class="modal" id="privacy-modal">
            <div class="modal-content">
                <h2 class="modal-title">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</h2>
                <div class="modal-text">
                    <p><strong>Minecraft Clicker Pro</strong> - —ç—Ç–æ –±—Ä–∞—É–∑–µ—Ä–Ω–∞—è –∏–≥—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.</p>
                    
                    <h3 style="color: var(--gold-color); margin-top: 15px;">–ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –º—ã —Å–æ–±–∏—Ä–∞–µ–º?</h3>
                    <p>‚úÖ <strong>–ù–∏–∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è</strong> - –∏–≥—Ä–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ã</p>
                    <p>‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ</p>
                    <p>‚úÖ –ò–≥—Ä–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏</p>
                    
                    <h3 style="color: var(--gold-color); margin-top: 15px;">–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ?</h3>
                    <p>‚Ä¢ –ü—Ä–æ–≥—Ä–µ—Å—Å –∏–≥—Ä—ã (–º–æ–Ω–µ—Ç—ã, —É–ª—É—á—à–µ–Ω–∏—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)</p>
                    <p>‚Ä¢ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã</p>
                    <p>‚Ä¢ –ü—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã –≤ –º–∞–≥–∞–∑–∏–Ω–µ</p>
                    
                    <h3 style="color: var(--gold-color); margin-top: 15px;">–ö–∞–∫ —É–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ?</h3>
                    <p>–í—ã –º–æ–∂–µ—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∏–ª–∏ –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞.</p>
                    
                    <p style="margin-top: 20px; font-size: 0.9rem; color: #aaa;">
                        –í–µ—Ä—Å–∏—è –∏–≥—Ä—ã: 2.1<br>
                        –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2024
                    </p>
                </div>
                <div class="modal-buttons">
                    <button class="modal-btn modal-btn-primary" id="close-modal-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </div>
        </div>
        
        <div class="modal" id="new-game-modal">
            <div class="modal-content">
                <h2 class="modal-title">–ù–æ–≤–∞—è –∏–≥—Ä–∞</h2>
                <div class="modal-text">
                    <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É?</p>
                    <p><strong>–¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω!</strong></p>
                    <p style="color: var(--accent-color); font-size: 0.9rem;">
                        <i class="fas fa-exclamation-triangle"></i> –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å
                    </p>
                </div>
                <div class="modal-buttons">
                    <button class="modal-btn modal-btn-primary" id="confirm-new-game-btn">–ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É</button>
                    <button class="modal-btn modal-btn-secondary" id="cancel-new-game-btn">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>
        
        <div class="modal" id="clear-data-modal">
            <div class="modal-content">
                <h2 class="modal-title">–û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö</h2>
                <div class="modal-text">
                    <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã?</p>
                    <p><strong>–ë—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ:</strong></p>
                    <ul style="margin-left: 20px; margin-bottom: 15px;">
                        <li>–í–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–≥—Ä—ã</li>
                        <li>–í—Å–µ –º–æ–Ω–µ—Ç—ã –∏ —É–ª—É—á—à–µ–Ω–∏—è</li>
                        <li>–í—Å—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</li>
                        <li>–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</li>
                    </ul>
                    <p style="color: var(--danger-color); font-size: 0.9rem;">
                        <i class="fas fa-exclamation-triangle"></i> –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!
                    </p>
                </div>
                <div class="modal-buttons">
                    <button class="modal-btn modal-btn-primary" id="confirm-clear-data-btn">–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ</button>
                    <button class="modal-btn modal-btn-secondary" id="cancel-clear-data-btn">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>
        
        <div class="modal" id="about-modal">
            <div class="modal-content">
                <h2 class="modal-title">–û –∏–≥—Ä–µ</h2>
                <div class="modal-text">
                    <p><strong>Minecraft Clicker Pro</strong> - —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ –∫–ª–∏–∫–µ—Ä–∞ —Å —Ç–µ–º–∞—Ç–∏–∫–æ–π Minecraft.</p>
                    
                    <h3 style="color: var(--gold-color); margin-top: 15px;">–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</h3>
                    <ul style="margin-left: 20px; margin-bottom: 15px;">
                        <li>35 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –±–ª–æ–∫–æ–≤ –¥–ª—è —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è</li>
                        <li>–°–∏—Å—Ç–µ–º–∞ —É–ª—É—á—à–µ–Ω–∏–π –∏ –º–∞–≥–∞–∑–∏–Ω</li>
                        <li>–ü–æ–ª–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</li>
                        <li>–ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä—ã –∏ –±—É—Å—Ç–µ—Ä—ã</li>
                        <li>–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</li>
                        <li>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤</li>
                    </ul>
                    
                    <h3 style="color: var(--gold-color); margin-top: 15px;">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</h3>
                    <p>‚Ä¢ –ö–ª–∏–∫–∞–π—Ç–µ –ø–æ –±–ª–æ–∫—É –¥–ª—è –µ–≥–æ —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è</p>
                    <p>‚Ä¢ –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –º–æ–Ω–µ—Ç—ã –∑–∞ —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤</p>
                    <p>‚Ä¢ –ü–æ–∫—É–ø–∞–π—Ç–µ —É–ª—É—á—à–µ–Ω–∏—è –≤ –º–∞–≥–∞–∑–∏–Ω–µ</p>
                    <p>‚Ä¢ –ü–æ–≤—ã—à–∞–π—Ç–µ —É—Ä–æ–≤–µ–Ω—å –∏ –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ –Ω–æ–≤—ã–µ –±–ª–æ–∫–∏</p>
                    
                    <p style="margin-top: 20px; font-size: 0.9rem; color: #aaa;">
                        –í–µ—Ä—Å–∏—è: 2.1<br>
                        –ê–≤—Ç–æ—Ä: –î–∞–Ω–∏–ª –§–∞—Ä–¥—Ç–¥–∏–Ω–æ–≤<br>
                        –ò–¥–µ—è: –î–∞–Ω–∏–ª–∞ –§–∞—Ä–¥—Ç–¥–∏–Ω–æ–≤<br>
                        –°–æ–∑–¥–∞–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º HTML5, CSS3 –∏ JavaScript
                    </p>
                </div>
                <div class="modal-buttons">
                    <button class="modal-btn modal-btn-primary" id="close-about-modal-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </div>
        </div>
        
        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ -->
        <div class="save-notification" id="save-notification">
            <i class="fas fa-check-circle"></i> –ò–≥—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!
        </div>
        `;

        // MINECRAFT CLICKER SCRIPT
        const minecraftClickerScript = `
        // ============================
        // –û–°–ù–û–í–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï –ò –ö–û–ù–°–¢–ê–ù–¢–´
        // ============================
        
        // –í–µ—Ä—Å–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö)
        const SAVE_VERSION = '2.1';
        const TOTAL_BLOCKS = 35; // –í—Å–µ–≥–æ –±–ª–æ–∫–æ–≤ –≤ –∏–≥—Ä–µ
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const loadingScreen = document.getElementById('loading-screen');
        const menuScreen = document.getElementById('menu-screen');
        const gameScreen = document.getElementById('game-screen');
        const shopScreen = document.getElementById('shop-screen');
        const upgradesScreen = document.getElementById('upgrades-screen');
        const statsScreen = document.getElementById('stats-screen');
        const settingsScreen = document.getElementById('settings-screen');
        const creditsScreen = document.getElementById('credits-screen');
        
        // ============================
        // –î–ê–ù–ù–´–ï –ë–õ–û–ö–û–í (35 –≤–∏–¥–æ–≤)
        // ============================
        
        const blocks = [
            // –ë–∞–∑–æ–≤—ã–µ –±–ª–æ–∫–∏ (1-5)
            {
                id: 'dirt',
                name: "–ó–µ–º–ª—è",
                type: "–ë–∞–∑–æ–≤—ã–π",
                level: 1,
                maxHealth: 15,
                baseCoins: { min: 1, max: 3 },
                color: "#8B4513",
                innerColor: "#A0522D",
                borderColor: "#654321",
                borderSize: "6px",
                experience: 5
            },
            {
                id: 'wood',
                name: "–î–µ—Ä–µ–≤–æ",
                type: "–ë–∞–∑–æ–≤—ã–π",
                level: 1,
                maxHealth: 25,
                baseCoins: { min: 2, max: 4 },
                color: "#8B4513",
                innerColor: "#D49F31",
                borderColor: "#733B0A",
                borderSize: "6px",
                experience: 8
            },
            {
                id: 'stone',
                name: "–ö–∞–º–µ–Ω—å",
                type: "–ë–∞–∑–æ–≤—ã–π",
                level: 2,
                maxHealth: 50,
                baseCoins: { min: 3, max: 6 },
                color: "#808080",
                innerColor: "#A0A0A0",
                borderColor: "#606060",
                borderSize: "6px",
                experience: 12
            },
            {
                id: 'cobblestone',
                name: "–ë—É–ª—ã–∂–Ω–∏–∫",
                type: "–ë–∞–∑–æ–≤—ã–π",
                level: 2,
                maxHealth: 55,
                baseCoins: { min: 4, max: 7 },
                color: "#696969",
                innerColor: "#808080",
                borderColor: "#505050",
                borderSize: "6px",
                experience: 14
            },
            {
                id: 'sand',
                name: "–ü–µ—Å–æ–∫",
                type: "–ë–∞–∑–æ–≤—ã–π",
                level: 3,
                maxHealth: 30,
                baseCoins: { min: 2, max: 5 },
                color: "#F4A460",
                innerColor: "#DEB887",
                borderColor: "#D2691E",
                borderSize: "6px",
                experience: 10
            },
            // –†—É–¥–∞ –æ–±—ã—á–Ω–∞—è (6-15)
            {
                id: 'coal',
                name: "–£–≥–æ–ª—å",
                type: "–†—É–¥–∞",
                level: 3,
                maxHealth: 100,
                baseCoins: { min: 5, max: 10 },
                color: "#2F4F4F",
                innerColor: "#363636",
                borderColor: "#1C1C1C",
                borderSize: "7px",
                experience: 20
            },
            {
                id: 'copper',
                name: "–ú–µ–¥—å",
                type: "–†—É–¥–∞",
                level: 4,
                maxHealth: 130,
                baseCoins: { min: 8, max: 15 },
                color: "#B87333",
                innerColor: "#DA8A67",
                borderColor: "#8B4513",
                borderSize: "7px",
                experience: 25
            },
            {
                id: 'iron',
                name: "–ñ–µ–ª–µ–∑–æ",
                type: "–†—É–¥–∞",
                level: 5,
                maxHealth: 175,
                baseCoins: { min: 12, max: 20 },
                color: "#D1D1D1",
                innerColor: "#B0B0B0",
                borderColor: "#888888",
                borderSize: "8px",
                experience: 35
            },
            {
                id: 'tin',
                name: "–û–ª–æ–≤–æ",
                type: "–†—É–¥–∞",
                level: 6,
                maxHealth: 150,
                baseCoins: { min: 10, max: 18 },
                color: "#C0C0C0",
                innerColor: "#D3D3D3",
                borderColor: "#A9A9A9",
                borderSize: "7px",
                experience: 30
            },
            {
                id: 'lead',
                name: "–°–≤–∏–Ω–µ—Ü",
                type: "–†—É–¥–∞",
                level: 7,
                maxHealth: 220,
                baseCoins: { min: 15, max: 25 },
                color: "#575757",
                innerColor: "#696969",
                borderColor: "#404040",
                borderSize: "8px",
                experience: 40
            },
            {
                id: 'nickel',
                name: "–ù–∏–∫–µ–ª—å",
                type: "–†—É–¥–∞",
                level: 8,
                maxHealth: 200,
                baseCoins: { min: 18, max: 28 },
                color: "#A8A8A8",
                innerColor: "#C0C0C0",
                borderColor: "#808080",
                borderSize: "8px",
                experience: 38
            },
            {
                id: 'zinc',
                name: "–¶–∏–Ω–∫",
                type: "–†—É–¥–∞",
                level: 9,
                maxHealth: 180,
                baseCoins: { min: 16, max: 26 },
                color: "#DAA520",
                innerColor: "#F0E68C",
                borderColor: "#B8860B",
                borderSize: "8px",
                experience: 36
            },
            {
                id: 'silver',
                name: "–°–µ—Ä–µ–±—Ä–æ",
                type: "–î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π",
                level: 10,
                maxHealth: 160,
                baseCoins: { min: 25, max: 40 },
                color: "#C0C0C0",
                innerColor: "#E0E0E0",
                borderColor: "#A0A0A0",
                borderSize: "9px",
                experience: 45
            },
            {
                id: 'aluminum',
                name: "–ê–ª—é–º–∏–Ω–∏–π",
                type: "–†—É–¥–∞",
                level: 11,
                maxHealth: 140,
                baseCoins: { min: 14, max: 22 },
                color: "#A9A9A9",
                innerColor: "#C9C9C9",
                borderColor: "#898989",
                borderSize: "7px",
                experience: 32
            },
            // –î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–µ —Ä—É–¥—ã (16-25)
            {
                id: 'gold',
                name: "–ó–æ–ª–æ—Ç–æ",
                type: "–î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π",
                level: 12,
                maxHealth: 250,
                baseCoins: { min: 20, max: 35 },
                color: "#FFD700",
                innerColor: "#FFEC8B",
                borderColor: "#B8860B",
                borderSize: "9px",
                experience: 50
            },
            {
                id: 'platinum',
                name: "–ü–ª–∞—Ç–∏–Ω–∞",
                type: "–î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π",
                level: 13,
                maxHealth: 300,
                baseCoins: { min: 30, max: 50 },
                color: "#E5E4E2",
                innerColor: "#FFFFFF",
                borderColor: "#C0C0C0",
                borderSize: "10px",
                experience: 60
            },
            {
                id: 'diamond',
                name: "–ê–ª–º–∞–∑",
                type: "–î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π",
                level: 14,
                maxHealth: 350,
                baseCoins: { min: 35, max: 60 },
                color: "#00FFFF",
                innerColor: "#AFEEEE",
                borderColor: "#008B8B",
                borderSize: "10px",
                experience: 70
            },
            {
                id: 'emerald',
                name: "–ò–∑—É–º—Ä—É–¥",
                type: "–î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π",
                level: 15,
                maxHealth: 400,
                baseCoins: { min: 40, max: 70 },
                color: "#00FF00",
                innerColor: "#98FB98",
                borderColor: "#006400",
                borderSize: "10px",
                experience: 80
            },
            {
                id: 'ruby',
                name: "–†—É–±–∏–Ω",
                type: "–î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π",
                level: 16,
                maxHealth: 380,
                baseCoins: { min: 45, max: 75 },
                color: "#FF0000",
                innerColor: "#FF6347",
                borderColor: "#8B0000",
                borderSize: "10px",
                experience: 75
            },
            {
                id: 'sapphire',
                name: "–°–∞–ø—Ñ–∏—Ä",
                type: "–î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π",
                level: 17,
                maxHealth: 370,
                baseCoins: { min: 42, max: 72 },
                color: "#0000FF",
                innerColor: "#4169E1",
                borderColor: "#00008B",
                borderSize: "10px",
                experience: 73
            },
            {
                id: 'topaz',
                name: "–¢–æ–ø–∞–∑",
                type: "–î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π",
                level: 18,
                maxHealth: 320,
                baseCoins: { min: 38, max: 65 },
                color: "#FFD700",
                innerColor: "#FFFACD",
                borderColor: "#DAA520",
                borderSize: "9px",
                experience: 65
            },
            {
                id: 'amethyst',
                name: "–ê–º–µ—Ç–∏—Å—Ç",
                type: "–î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π",
                level: 19,
                maxHealth: 340,
                baseCoins: { min: 40, max: 68 },
                color: "#9932CC",
                innerColor: "#DA70D6",
                borderColor: "#8B008B",
                borderSize: "9px",
                experience: 68
            },
            {
                id: 'opal',
                name: "–û–ø–∞–ª",
                type: "–î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π",
                level: 20,
                maxHealth: 290,
                baseCoins: { min: 35, max: 60 },
                color: "#E6E6FA",
                innerColor: "#F0F8FF",
                borderColor: "#D8BFD8",
                borderSize: "9px",
                experience: 62
            },
            // –û—Å–æ–±—ã–µ –±–ª–æ–∫–∏ (26-30)
            {
                id: 'redstone',
                name: "–†–µ–¥—Å—Ç–æ—É–Ω",
                type: "–û—Å–æ–±—ã–π",
                level: 21,
                maxHealth: 280,
                baseCoins: { min: 32, max: 58 },
                color: "#FF0000",
                innerColor: "#FF4500",
                borderColor: "#8B0000",
                borderSize: "9px",
                experience: 58
            },
            {
                id: 'lapis',
                name: "–õ–∞–∑—É—Ä–∏—Ç",
                type: "–î—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–π",
                level: 22,
                maxHealth: 260,
                baseCoins: { min: 30, max: 55 },
                color: "#0000FF",
                innerColor: "#1E90FF",
                borderColor: "#00008B",
                borderSize: "9px",
                experience: 55
            },
            {
                id: 'quartz',
                name: "–ö–≤–∞—Ä—Ü",
                type: "–û—Å–æ–±—ã–π",
                level: 23,
                maxHealth: 240,
                baseCoins: { min: 28, max: 50 },
                color: "#F5F5F5",
                innerColor: "#FFFFFF",
                borderColor: "#C0C0C0",
                borderSize: "8px",
                experience: 50
            },
            {
                id: 'glowstone',
                name: "–°–≤–µ—Ç–æ–∫–∞–º–µ–Ω—å",
                type: "–û—Å–æ–±—ã–π",
                level: 24,
                maxHealth: 220,
                baseCoins: { min: 25, max: 45 },
                color: "#FFD700",
                innerColor: "#FFFF00",
                borderColor: "#FFA500",
                borderSize: "8px",
                experience: 48
            },
            {
                id: 'prismarine',
                name: "–ü—Ä–∏–∑–º–∞—Ä–∏–Ω",
                type: "–û—Å–æ–±—ã–π",
                level: 25,
                maxHealth: 300,
                baseCoins: { min: 35, max: 60 },
                color: "#20B2AA",
                innerColor: "#48D1CC",
                borderColor: "#008B8B",
                borderSize: "9px",
                experience: 65
            },
            // –ü—Ä–æ—á–Ω—ã–µ –±–ª–æ–∫–∏ (31-35)
            {
                id: 'obsidian',
                name: "–û–±—Å–∏–¥–∏–∞–Ω",
                type: "–ü—Ä–æ—á–Ω—ã–π",
                level: 26,
                maxHealth: 500,
                baseCoins: { min: 50, max: 85 },
                color: "#000000",
                innerColor: "#2F2F2F",
                borderColor: "#1A1A1A",
                borderSize: "11px",
                experience: 85
            },
            {
                id: 'netherite',
                name: "–ù–µ–∑–µ—Ä–∏—Ç",
                type: "–ü—Ä–æ—á–Ω—ã–π",
                level: 27,
                maxHealth: 600,
                baseCoins: { min: 60, max: 100 },
                color: "#4A4A4A",
                innerColor: "#696969",
                borderColor: "#2C2C2C",
                borderSize: "12px",
                experience: 100
            },
            {
                id: 'mythril',
                name: "–ú–∏—Ñ—Ä–∏–ª",
                type: "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π",
                level: 28,
                maxHealth: 700,
                baseCoins: { min: 70, max: 120 },
                color: "#87CEEB",
                innerColor: "#B0E0E6",
                borderColor: "#4682B4",
                borderSize: "13px",
                experience: 120
            },
            {
                id: 'adamantite',
                name: "–ê–¥–∞–º–∞–Ω—Ç–∏—Ç",
                type: "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π",
                level: 29,
                maxHealth: 800,
                baseCoins: { min: 80, max: 140 },
                color: "#FF4500",
                innerColor: "#FF6347",
                borderColor: "#B22222",
                borderSize: "14px",
                experience: 140
            },
            {
                id: 'dragonstone',
                name: "–î—Ä–∞–∫–æ–Ω–∏–π –∫–∞–º–µ–Ω—å",
                type: "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π",
                level: 30,
                maxHealth: 1000,
                baseCoins: { min: 100, max: 200 },
                color: "#8A2BE2",
                innerColor: "#9370DB",
                borderColor: "#4B0082",
                borderSize: "15px",
                experience: 200
            }
        ];
        
        // ============================
        // –ú–ê–ì–ê–ó–ò–ù (12 —Ç–æ–≤–∞—Ä–æ–≤ - —É–±—Ä–∞–Ω—ã –∑–µ–ª—å—è –∏ –¥–æ–∂–¥—å –º–æ–Ω–µ—Ç)
        // ============================
        
        const shopItems = [
            {
                id: 'auto_clicker_1',
                name: '–ë–∞–∑–æ–≤—ã–π –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä',
                category: 'clickers',
                price: 5000,
                description: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–ª–∏–∫–∞–µ—Ç –ø–æ –±–ª–æ–∫—É –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥, –Ω–∞–Ω–æ—Å—è 1 —É—Ä–æ–Ω.',
                icon: 'fas fa-mouse-pointer',
                iconColor: '#4CAF50',
                effect: { type: 'autoClicker', damage: 1, interval: 5000 },
                maxLevel: 1
            },
            {
                id: 'auto_clicker_2',
                name: '–£–ª—É—á—à–µ–Ω–Ω—ã–π –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä',
                category: 'clickers',
                price: 15000,
                description: '–ë—ã—Å—Ç—Ä—ã–π –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä, –Ω–∞–Ω–æ—Å—è—â–∏–π 2 —É—Ä–æ–Ω–∞ –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã.',
                icon: 'fas fa-bolt',
                iconColor: '#FF9800',
                effect: { type: 'autoClicker', damage: 2, interval: 3000 },
                maxLevel: 1,
                requires: 'auto_clicker_1'
            },
            {
                id: 'auto_clicker_3',
                name: '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä',
                category: 'clickers',
                price: 50000,
                description: '–ú–æ—â–Ω—ã–π –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä, –Ω–∞–Ω–æ—Å—è—â–∏–π 5 —É—Ä–æ–Ω–∞ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É.',
                icon: 'fas fa-rocket',
                iconColor: '#F44336',
                effect: { type: 'autoClicker', damage: 5, interval: 1000 },
                maxLevel: 1,
                requires: 'auto_clicker_2'
            },
            {
                id: 'damage_booster_1',
                name: '–£—Å–∏–ª–∏—Ç–µ–ª—å —É–¥–∞—Ä–∞ I',
                category: 'boosters',
                price: 3000,
                description: '–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤–∞—à —É—Ä–æ–Ω –Ω–∞ 50%.',
                icon: 'fas fa-fist-raised',
                iconColor: '#FF4444',
                effect: { type: 'damageMultiplier', value: 1.5 },
                maxLevel: 5
            },
            {
                id: 'damage_booster_2',
                name: '–£—Å–∏–ª–∏—Ç–µ–ª—å —É–¥–∞—Ä–∞ II',
                category: 'boosters',
                price: 10000,
                description: '–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤–∞—à —É—Ä–æ–Ω –Ω–∞ 100%.',
                icon: 'fas fa-gem',
                iconColor: '#9C27B0',
                effect: { type: 'damageMultiplier', value: 2.0 },
                maxLevel: 3,
                requires: 'damage_booster_1'
            },
            {
                id: 'coin_booster_1',
                name: '–ú–Ω–æ–∂–∏—Ç–µ–ª—å –º–æ–Ω–µ—Ç I',
                category: 'boosters',
                price: 4000,
                description: '–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø–æ–ª—É—á–∞–µ–º—ã–µ –º–æ–Ω–µ—Ç—ã –Ω–∞ 50%.',
                icon: 'fas fa-coins',
                iconColor: '#FFD700',
                effect: { type: 'coinMultiplier', value: 1.5 },
                maxLevel: 5
            },
            {
                id: 'coin_booster_2',
                name: '–ú–Ω–æ–∂–∏—Ç–µ–ª—å –º–æ–Ω–µ—Ç II',
                category: 'boosters',
                price: 12000,
                description: '–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø–æ–ª—É—á–∞–µ–º—ã–µ –º–æ–Ω–µ—Ç—ã –Ω–∞ 100%.',
                icon: 'fas fa-money-bill-wave',
                iconColor: '#FF9800',
                effect: { type: 'coinMultiplier', value: 2.0 },
                maxLevel: 3,
                requires: 'coin_booster_1'
            },
            {
                id: 'critical_boost',
                name: '–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä',
                category: 'boosters',
                price: 8000,
                description: '–î–∞–µ—Ç 10% —à–∞–Ω—Å –Ω–∞–Ω–µ—Å—Ç–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä (x2 —É—Ä–æ–Ω–∞).',
                icon: 'fas fa-bullseye',
                iconColor: '#F44336',
                effect: { type: 'critical', chance: 10, multiplier: 2 },
                maxLevel: 1
            },
            {
                id: 'luck_boost',
                name: '–£–¥–∞—á–∞',
                category: 'boosters',
                price: 6000,
                description: '–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—É—á–∞–µ–º—ã—Ö –º–æ–Ω–µ—Ç –Ω–∞ 25%.',
                icon: 'fas fa-clover',
                iconColor: '#4CAF50',
                effect: { type: 'luck', value: 1.25 },
                maxLevel: 1
            },
            {
                id: 'anti_regen',
                name: '–ê–Ω—Ç–∏-—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è',
                category: 'special',
                price: 12000,
                description: '–û—Ç–∫–ª—é—á–∞–µ—Ç —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é –±–ª–æ–∫–æ–≤.',
                icon: 'fas fa-ban',
                iconColor: '#757575',
                effect: { type: 'antiRegen' },
                maxLevel: 1
            },
            {
                id: 'instant_break',
                name: '–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ',
                category: 'special',
                price: 50000,
                description: '–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ —Ä–∞–∑—Ä—É—à–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –±–ª–æ–∫ (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–µ).',
                icon: 'fas fa-bomb',
                iconColor: '#FF9800',
                effect: { type: 'instantBreak' },
                maxLevel: 1,
                consumable: true
            },
            {
                id: 'block_skip',
                name: '–ü—Ä–æ–ø—É—Å–∫ –±–ª–æ–∫–∞',
                category: 'special',
                price: 30000,
                description: '–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–µ–∫—É—â–∏–π –±–ª–æ–∫ –∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É.',
                icon: 'fas fa-forward',
                iconColor: '#2196F3',
                effect: { type: 'blockSkip' },
                maxLevel: 1,
                consumable: true
            }
        ];
        
        // ============================
        // –£–õ–£–ß–®–ï–ù–ò–Ø (8 –≤–∏–¥–æ–≤ - —É–±—Ä–∞–Ω—ã –º–∞–≥–Ω–∏—Ç –º–æ–Ω–µ—Ç –∏ –∑–µ–ª—å–µ –∑–¥–æ—Ä–æ–≤—å—è)
        // ============================
        
        const upgrades = [
            {
                id: 'upgrade_click_power',
                name: '–°–∏–ª–∞ –∫–ª–∏–∫–∞',
                description: '–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –±–∞–∑–æ–≤—ã–π —É—Ä–æ–Ω –æ—Ç –∫–ª–∏–∫–∞.',
                icon: 'fas fa-hand-rock',
                basePrice: 1000,
                priceMultiplier: 1.5,
                maxLevel: 20,
                effect: { type: 'baseDamage', value: 0.5 }
            },
            {
                id: 'upgrade_coin_value',
                name: '–¶–µ–Ω–Ω–æ—Å—Ç—å –º–æ–Ω–µ—Ç',
                description: '–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç —Å –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞.',
                icon: 'fas fa-coins',
                basePrice: 1500,
                priceMultiplier: 1.6,
                maxLevel: 15,
                effect: { type: 'coinValue', value: 0.1 }
            },
            {
                id: 'upgrade_critical_chance',
                name: '–®–∞–Ω—Å –∫—Ä–∏—Ç–∞',
                description: '–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —à–∞–Ω—Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞—Ä–∞.',
                icon: 'fas fa-bullseye',
                basePrice: 3000,
                priceMultiplier: 2.0,
                maxLevel: 10,
                effect: { type: 'criticalChance', value: 1 }
            },
            {
                id: 'upgrade_critical_damage',
                name: '–°–∏–ª–∞ –∫—Ä–∏—Ç–∞',
                description: '–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –º–Ω–æ–∂–∏—Ç–µ–ª—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞—Ä–∞.',
                icon: 'fas fa-gem',
                basePrice: 5000,
                priceMultiplier: 2.2,
                maxLevel: 8,
                effect: { type: 'criticalMultiplier', value: 0.2 }
            },
            {
                id: 'upgrade_auto_clicker_power',
                name: '–°–∏–ª–∞ –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä–∞',
                description: '–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —É—Ä–æ–Ω –≤—Å–µ—Ö –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä–æ–≤.',
                icon: 'fas fa-robot',
                basePrice: 8000,
                priceMultiplier: 1.8,
                maxLevel: 10,
                effect: { type: 'autoClickerDamage', value: 0.3 }
            },
            {
                id: 'upgrade_regen_slow',
                name: '–ó–∞–º–µ–¥–ª–µ–Ω–∏–µ —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏',
                description: '–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è –¥–æ –Ω–∞—á–∞–ª–∞ —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–ª–æ–∫–æ–≤.',
                icon: 'fas fa-hourglass-half',
                basePrice: 4000,
                priceMultiplier: 1.7,
                maxLevel: 8,
                effect: { type: 'regenDelay', value: 5 }
            },
            {
                id: 'upgrade_health_reduction',
                name: '–°–Ω–∏–∂–µ–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è',
                description: '–£–º–µ–Ω—å—à–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ –±–ª–æ–∫–æ–≤.',
                icon: 'fas fa-heartbeat',
                basePrice: 10000,
                priceMultiplier: 2.5,
                maxLevel: 5,
                effect: { type: 'blockHealth', value: -0.05 }
            },
            {
                id: 'upgrade_experience_boost',
                name: '–£—Å–∫–æ—Ä–µ–Ω–∏–µ –æ–ø—ã—Ç–∞',
                description: '–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø–æ–ª—É—á–∞–µ–º—ã–π –æ–ø—ã—Ç.',
                icon: 'fas fa-chart-line',
                basePrice: 6000,
                priceMultiplier: 1.9,
                maxLevel: 10,
                effect: { type: 'experienceMultiplier', value: 0.1 }
            }
        ];
        
        // ============================
        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ò–ì–†–´
        // ============================
        
        let gameState = {
            // –û—Å–Ω–æ–≤–Ω—ã–µ
            coins: 0,
            level: 1,
            experience: 0,
            maxExperience: 100,
            currentBlock: 0,
            currentHealth: 0,
            maxHealth: 0,
            
            // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            totalClicks: 0,
            blocksBroken: 0,
            totalCoinsEarned: 0,
            totalDamage: 0,
            playTimeSeconds: 0,
            startTime: Date.now(),
            lastSaveTime: Date.now(),
            
            // –£–ª—É—á—à–µ–Ω–∏—è
            damageMultiplier: 1,
            coinMultiplier: 1,
            criticalChance: 5, // 5%
            criticalMultiplier: 2,
            luckMultiplier: 1,
            
            // –ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä—ã
            autoClickers: [],
            autoClickerDamage: 0,
            
            // –†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è
            regenerationEnabled: true,
            regenerationRate: 10,
            regenerationDelay: 30,
            antiRegen: false,
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
            soundEnabled: true,
            notificationsEnabled: true,
            autosaveEnabled: true,
            animationsEnabled: true,
            
            // –ö—É–ø–ª–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
            purchasedItems: {},
            unlockedUpgrades: [],
            
            // –°–∏—Å—Ç–µ–º–Ω—ã–µ
            isBreaking: false,
            isTouching: false,
            lastHitTime: Date.now(),
            regenerationTimer: null,
            regenerationInterval: null,
            autoClickerIntervals: [],
            playTimer: null,
            saveInterval: null,
            
            // –î–ª—è —Ç–∏—Ç—Ä–æ–≤
            creditsShown: false
        };
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const continueBtn = document.getElementById('continue-btn');
        const newGameBtn = document.getElementById('new-game-btn');
        const statsMenuBtn = document.getElementById('stats-menu-btn');
        const shopMenuBtn = document.getElementById('shop-menu-btn');
        const upgradesMenuBtn = document.getElementById('upgrades-menu-btn');
        const settingsMenuBtn = document.getElementById('settings-menu-btn');
        const privacyBtn = document.getElementById('privacy-btn');
        const gameShopBtn = document.getElementById('game-shop-btn');
        const gameUpgradesBtn = document.getElementById('game-upgrades-btn');
        const gameStatsBtn = document.getElementById('game-stats-btn');
        const gameMenuBtn = document.getElementById('game-menu-btn');
        const creditsBackBtn = document.getElementById('credits-back-btn');
        
        const block = document.getElementById('block');
        const blockImg = document.getElementById('block-img');
        const cracksOverlay = document.getElementById('cracks-overlay');
        const coinsCounter = document.getElementById('coins-counter');
        const levelCounter = document.getElementById('level-counter');
        const blockName = document.getElementById('block-name');
        const blockType = document.getElementById('block-type');
        const healthDisplay = document.getElementById('health-display');
        const progressBar = document.getElementById('progress-bar');
        const regenerationIndicator = document.getElementById('regeneration-indicator');
        
        // ============================
        // –§–£–ù–ö–¶–ò–ò –°–û–•–†–ê–ù–ï–ù–ò–Ø
        // ============================
        
        function saveGame() {
            if (!gameState.autosaveEnabled) return;
            
            const saveData = {
                version: SAVE_VERSION,
                timestamp: Date.now(),
                gameState: {
                    coins: gameState.coins,
                    level: gameState.level,
                    experience: gameState.experience,
                    maxExperience: gameState.maxExperience,
                    currentBlock: gameState.currentBlock,
                    currentHealth: gameState.currentHealth,
                    maxHealth: gameState.maxHealth,
                    
                    totalClicks: gameState.totalClicks,
                    blocksBroken: gameState.blocksBroken,
                    totalCoinsEarned: gameState.totalCoinsEarned,
                    totalDamage: gameState.totalDamage,
                    playTimeSeconds: gameState.playTimeSeconds,
                    startTime: gameState.startTime,
                    
                    damageMultiplier: gameState.damageMultiplier,
                    coinMultiplier: gameState.coinMultiplier,
                    criticalChance: gameState.criticalChance,
                    criticalMultiplier: gameState.criticalMultiplier,
                    luckMultiplier: gameState.luckMultiplier,
                    
                    autoClickers: gameState.autoClickers,
                    autoClickerDamage: gameState.autoClickerDamage,
                    
                    regenerationEnabled: gameState.regenerationEnabled,
                    regenerationRate: gameState.regenerationRate,
                    regenerationDelay: gameState.regenerationDelay,
                    antiRegen: gameState.antiRegen,
                    
                    soundEnabled: gameState.soundEnabled,
                    notificationsEnabled: gameState.notificationsEnabled,
                    autosaveEnabled: gameState.autosaveEnabled,
                    animationsEnabled: gameState.animationsEnabled,
                    
                    purchasedItems: gameState.purchasedItems,
                    unlockedUpgrades: gameState.unlockedUpgrades,
                    
                    creditsShown: gameState.creditsShown
                }
            };
            
            try {
                localStorage.setItem('minecraftClickerSave', JSON.stringify(saveData));
                gameState.lastSaveTime = Date.now();
                
                // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
                if (gameState.notificationsEnabled) {
                    showSaveNotification();
                }
                
                console.log('–ò–≥—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞');
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∏–≥—Ä—ã:', e);
            }
        }
        
        function loadGame() {
            try {
                const saveData = localStorage.getItem('minecraftClickerSave');
                
                if (!saveData) {
                    console.log('–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –Ω–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤—É—é –∏–≥—Ä—É');
                    return false;
                }
                
                const parsedData = JSON.parse(saveData);
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
                if (parsedData.version !== SAVE_VERSION) {
                    console.log('–í–µ—Ä—Å–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —É—Å—Ç–∞—Ä–µ–ª–∞, –Ω–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤—É—é –∏–≥—Ä—É');
                    return false;
                }
                
                // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
                const loadedState = parsedData.gameState;
                
                // –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                gameState.coins = loadedState.coins || 0;
                gameState.level = loadedState.level || 1;
                gameState.experience = loadedState.experience || 0;
                gameState.maxExperience = loadedState.maxExperience || 100;
                gameState.currentBlock = loadedState.currentBlock || 0;
                gameState.currentHealth = loadedState.currentHealth || 0;
                gameState.maxHealth = loadedState.maxHealth || 0;
                
                // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                gameState.totalClicks = loadedState.totalClicks || 0;
                gameState.blocksBroken = loadedState.blocksBroken || 0;
                gameState.totalCoinsEarned = loadedState.totalCoinsEarned || 0;
                gameState.totalDamage = loadedState.totalDamage || 0;
                gameState.playTimeSeconds = loadedState.playTimeSeconds || 0;
                gameState.startTime = loadedState.startTime || Date.now();
                
                // –£–ª—É—á—à–µ–Ω–∏—è
                gameState.damageMultiplier = loadedState.damageMultiplier || 1;
                gameState.coinMultiplier = loadedState.coinMultiplier || 1;
                gameState.criticalChance = loadedState.criticalChance || 5;
                gameState.criticalMultiplier = loadedState.criticalMultiplier || 2;
                gameState.luckMultiplier = loadedState.luckMultiplier || 1;
                
                // –ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä—ã
                gameState.autoClickers = loadedState.autoClickers || [];
                gameState.autoClickerDamage = loadedState.autoClickerDamage || 0;
                
                // –†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è
                gameState.regenerationEnabled = loadedState.regenerationEnabled !== undefined ? loadedState.regenerationEnabled : true;
                gameState.regenerationRate = loadedState.regenerationRate || 10;
                gameState.regenerationDelay = loadedState.regenerationDelay || 30;
                gameState.antiRegen = loadedState.antiRegen || false;
                
                // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                gameState.soundEnabled = loadedState.soundEnabled !== undefined ? loadedState.soundEnabled : true;
                gameState.notificationsEnabled = loadedState.notificationsEnabled !== undefined ? loadedState.notificationsEnabled : true;
                gameState.autosaveEnabled = loadedState.autosaveEnabled !== undefined ? loadedState.autosaveEnabled : true;
                gameState.animationsEnabled = loadedState.animationsEnabled !== undefined ? loadedState.animationsEnabled : true;
                
                // –ö—É–ø–ª–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã –∏ —É–ª—É—á—à–µ–Ω–∏—è
                gameState.purchasedItems = loadedState.purchasedItems || {};
                gameState.unlockedUpgrades = loadedState.unlockedUpgrades || [];
                
                // –¢–∏—Ç—Ä—ã
                gameState.creditsShown = loadedState.creditsShown || false;
                
                console.log('–ò–≥—Ä–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
                return true;
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–≥—Ä—ã:', e);
                return false;
            }
        }
        
        function clearSave() {
            try {
                localStorage.removeItem('minecraftClickerSave');
                console.log('–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—á–∏—â–µ–Ω–æ');
                return true;
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', e);
                return false;
            }
        }
        
        function showSaveNotification() {
            const saveNotification = document.getElementById('save-notification');
            saveNotification.style.display = 'block';
            setTimeout(() => {
                saveNotification.style.display = 'none';
            }, 2000);
        }
        
        // ============================
        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ò–ì–†–û–í–û–ì–û –ü–†–û–¶–ï–°–°–ê
        // ============================
        
        function initGame() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
            const loaded = loadGame();
            
            // –ï—Å–ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ, –ø—Ä–æ–≤–µ—Ä—è–µ–º –º–æ–∂–Ω–æ –ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å
            if (loaded && gameState.currentBlock !== undefined) {
                continueBtn.style.display = 'flex';
            } else {
                continueBtn.style.display = 'none';
                gameState.currentBlock = 0;
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–ª–æ–∫–∞
            initBlock();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            updateUI();
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞
            loadShopItems();
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ —É–ª—É—á—à–µ–Ω–∏–π
            loadUpgrades();
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            loadStats();
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            setupControls();
            
            // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–æ–≤
            startTimers();
            
            // –°–∫—Ä—ã—Ç–∏–µ —ç–∫—Ä–∞–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∏
            setTimeout(() => {
                loadingScreen.style.display = 'none';
                menuScreen.style.display = 'flex';
            }, 1000);
        }
        
        function initBlock() {
            const blockData = blocks[gameState.currentBlock];
            
            if (!blockData) {
                gameState.currentBlock = 0;
                return initBlock();
            }
            
            gameState.maxHealth = blockData.maxHealth;
            
            // –ï—Å–ª–∏ –∏–≥—Ä–∞ —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª–∞—Å—å, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ–ª–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ
            if (gameState.currentHealth <= 0 || gameState.currentHealth > gameState.maxHealth) {
                gameState.currentHealth = blockData.maxHealth;
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ SVG –¥–ª—è –±–ª–æ–∫–∞
            createBlockSVG(blockData);
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–ª–æ–∫–µ
            blockName.textContent = blockData.name;
            blockType.textContent = blockData.type;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è
            checkLevelRequirement();
        }
        
        function createBlockSVG(blockData) {
            const svgCode = \`
                <svg width="220" height="220" viewBox="0 0 220 220" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <filter id="blockShadow">
                            <feDropShadow dx="0" dy="4" stdDeviation="4" flood-opacity="0.5"/>
                        </filter>
                        <pattern id="blockPattern" patternUnits="userSpaceOnUse" width="20" height="20">
                            <rect width="20" height="20" fill="\${blockData.color}" opacity="0.3"/>
                            <rect x="10" y="0" width="10" height="10" fill="\${blockData.innerColor}" opacity="0.2"/>
                            <rect x="0" y="10" width="10" height="10" fill="\${blockData.innerColor}" opacity="0.2"/>
                        </pattern>
                    </defs>
                    <rect width="220" height="220" fill="\${blockData.color}" filter="url(#blockShadow)" rx="5"/>
                    <rect x="20" y="20" width="180" height="180" fill="\${blockData.innerColor}" rx="3"/>
                    <rect x="10" y="10" width="200" height="200" fill="url(#blockPattern)" opacity="0.4" rx="5"/>
                    <rect width="220" height="220" fill="none" stroke="\${blockData.borderColor}" stroke-width="\${blockData.borderSize}" rx="5"/>
                </svg>
            \`;
            
            const svgBlob = new Blob([svgCode], {type: 'image/svg+xml'});
            const svgUrl = URL.createObjectURL(svgBlob);
            blockImg.src = svgUrl;
            blockImg.style.borderColor = blockData.borderColor;
            
            updateCracks();
        }
        
        // ============================
        // –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–ê
        // ============================
        
        function updateUI() {
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–æ–≤
            coinsCounter.textContent = formatNumber(gameState.coins);
            levelCounter.textContent = \`–£—Ä. \${gameState.level}\`;
            healthDisplay.textContent = \`\${Math.floor(gameState.currentHealth)}/\${gameState.maxHealth}\`;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
            const healthPercent = (gameState.currentHealth / gameState.maxHealth) * 100;
            progressBar.style.width = \`\${healthPercent}%\`;
            
            // –¶–≤–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–¥–æ—Ä–æ–≤—å—è
            if (healthPercent > 70) {
                progressBar.style.background = "linear-gradient(to right, #4CAF50, #8BC34A)";
            } else if (healthPercent > 30) {
                progressBar.style.background = "linear-gradient(to right, #FF9800, #FFC107)";
            } else {
                progressBar.style.background = "linear-gradient(to right, #F44336, #FF5722)";
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            updateStatsDisplay();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ—â–∏–Ω –Ω–∞ –±–ª–æ–∫–µ
            updateCracks();
        }
        
        function updateCracks() {
            const healthPercent = gameState.currentHealth / gameState.maxHealth;
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å —Ç—Ä–µ—â–∏–Ω
            let crackLevel = 0;
            if (healthPercent < 0.33) {
                crackLevel = 2;
            } else if (healthPercent < 0.66) {
                crackLevel = 1;
            } else if (healthPercent < 1) {
                crackLevel = 0;
            }
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
            const opacity = 1 - healthPercent;
            cracksOverlay.style.opacity = opacity * 0.9;
            
            // –°–æ–∑–¥–∞–µ–º —Ç—Ä–µ—â–∏–Ω—ã —á–µ—Ä–µ–∑ SVG
            const crackSVG = createCrackSVG(crackLevel);
            cracksOverlay.style.backgroundImage = \`url('\${crackSVG}')\`;
        }
        
        function createCrackSVG(level) {
            const strokeWidth = 3 + level;
            const opacity = 0.3 + (level * 0.2);
            
            const svgCode = \`
                <svg width="220" height="220" viewBox="0 0 220 220" xmlns="http://www.w3.org/2000/svg">
                    <path d="M\${40 + level * 10},\${40 + level * 5} L\${60 + level * 10},\${70 + level * 5} M\${80 + level * 5},\${30 + level * 5} L\${100 + level * 5},\${60 + level * 5} M\${120 + level * 10},\${70 + level * 5} L\${100 + level * 10},\${100 + level * 5} M\${50 + level * 5},\${100 + level * 10} L\${70 + level * 5},\${130 + level * 10} M\${90 + level * 10},\${140 + level * 5} L\${110 + level * 10},\${170 + level * 5} M\${130 + level * 5},\${160 + level * 10} L\${110 + level * 5},\${190 + level * 10} M\${160 + level * 10},\${50 + level * 5} L\${180 + level * 10},\${80 + level * 5} M\${180 + level * 5},\${110 + level * 10} L\${160 + level * 5},\${140 + level * 10} M\${190 + level * 10},\${80 + level * 5} L\${170 + level * 10},\${110 + level * 5}" 
                    stroke="#000" stroke-width="\${strokeWidth}" stroke-opacity="\${opacity}" fill="none"/>
                </svg>
            \`;
            
            const svgBlob = new Blob([svgCode], {type: 'image/svg+xml'});
            return URL.createObjectURL(svgBlob);
        }
        
        function updateStatsDisplay() {
            // –†–∞—Å—á–µ—Ç –£–í–° (—É—Ä–æ–Ω–∞ –≤ —Å–µ–∫—É–Ω–¥—É)
            const dps = calculateDPS();
            document.getElementById('dps-counter').textContent = dps.toFixed(1);
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            document.getElementById('total-clicks').textContent = formatNumber(gameState.totalClicks);
            document.getElementById('blocks-broken').textContent = formatNumber(gameState.blocksBroken);
            
            // –í—Ä–µ–º—è –∏–≥—Ä—ã
            const totalSeconds = gameState.playTimeSeconds + Math.floor((Date.now() - gameState.startTime) / 1000);
            const hours = Math.floor(totalSeconds / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const seconds = totalSeconds % 60;
            
            if (hours > 0) {
                document.getElementById('play-time').textContent = \`\${hours}:\${minutes.toString().padStart(2, '0')}:\${seconds.toString().padStart(2, '0')}\`;
            } else {
                document.getElementById('play-time').textContent = \`\${minutes}:\${seconds.toString().padStart(2, '0')}\`;
            }
        }
        
        function calculateDPS() {
            // –ë–∞–∑–æ–≤—ã–π —É—Ä–æ–Ω –æ—Ç –∫–ª–∏–∫–∞
            let baseDamage = 1 * gameState.damageMultiplier;
            
            // –£—Ä–æ–Ω –æ—Ç –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä–æ–≤
            let autoClickerDamage = 0;
            gameState.autoClickers.forEach(clicker => {
                autoClickerDamage += (clicker.damage + gameState.autoClickerDamage) / (clicker.interval / 1000);
            });
            
            // –£—á–∏—Ç—ã–≤–∞–µ–º —à–∞–Ω—Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞—Ä–∞
            const critDamage = baseDamage * gameState.criticalMultiplier;
            const averageDamage = baseDamage * (1 - gameState.criticalChance / 100) + critDamage * (gameState.criticalChance / 100);
            
            return averageDamage + autoClickerDamage;
        }
        
        // ============================
        // –ò–ì–†–û–í–û–ô –ü–†–û–¶–ï–°–°
        // ============================
        
        function handleBlockClick(event) {
            if (gameState.isBreaking) return;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É–¥–∞—Ä–∞
            gameState.lastHitTime = Date.now();
            gameState.totalClicks++;
            
            // –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, –µ—Å–ª–∏ –æ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞
            if (gameState.regenerationTimer) {
                clearTimeout(gameState.regenerationTimer);
                gameState.regenerationTimer = null;
            }
            
            if (regenerationIndicator.style.display === 'block') {
                regenerationIndicator.style.display = 'none';
                block.classList.remove('regenerating');
            }
            
            // –†–∞—Å—á–µ—Ç —É—Ä–æ–Ω–∞
            let damage = 1 * gameState.damageMultiplier;
            let isCritical = false;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä
            if (Math.random() * 100 < gameState.criticalChance) {
                damage *= gameState.criticalMultiplier;
                isCritical = true;
            }
            
            // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —É—Ä–æ–Ω–∞
            gameState.currentHealth -= damage;
            gameState.totalDamage += damage;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è —É–¥–∞—Ä–∞
            if (gameState.animationsEnabled) {
                block.classList.add('hit');
                setTimeout(() => {
                    block.classList.remove('hit');
                }, 100);
                
                // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —É—Ä–æ–Ω–∞
                if (isCritical) {
                    showDamageIndicator(event, damage, true);
                } else {
                    showDamageIndicator(event, damage, false);
                }
            }
            
            // –ü–æ–ª—É—á–µ–Ω–∏–µ –º–æ–Ω–µ—Ç
            const coinsEarned = getCoinsFromHit();
            if (coinsEarned > 0) {
                gameState.coins += coinsEarned;
                gameState.totalCoinsEarned += coinsEarned;
                
                if (gameState.animationsEnabled) {
                    showCoinAnimation(event, coinsEarned);
                }
            }
            
            // –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø—ã—Ç–∞
            const experienceEarned = getExperienceFromHit();
            gameState.experience += experienceEarned;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å
            checkLevelUp();
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ –±–ª–æ–∫–∞
            if (gameState.currentHealth <= 0) {
                destroyBlock();
            } else {
                updateUI();
                
                // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞ —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
                if (gameState.regenerationEnabled && !gameState.antiRegen) {
                    startRegenerationTimer();
                }
            }
            
            // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
            saveGame();
        }
        
        function getCoinsFromHit() {
            const blockData = blocks[gameState.currentBlock];
            if (!blockData) return 0;
            
            // –ë–∞–∑–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç
            const minCoins = blockData.baseCoins.min;
            const maxCoins = blockData.baseCoins.max;
            let coins = Math.floor(Math.random() * (maxCoins - minCoins + 1)) + minCoins;
            
            // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–Ω–æ–∂–∏—Ç–µ–ª–µ–π
            coins *= gameState.coinMultiplier;
            coins *= gameState.luckMultiplier;
            
            // –®–∞–Ω—Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–æ–Ω–µ—Ç (—É–¥–∞—á–∞)
            if (Math.random() * 100 < gameState.criticalChance / 2) {
                coins *= 2;
            }
            
            return Math.round(coins);
        }
        
        function getExperienceFromHit() {
            const blockData = blocks[gameState.currentBlock];
            if (!blockData) return 0;
            
            let exp = blockData.experience / 10;
            
            // –£—Å–∏–ª–∏—Ç–µ–ª–∏ –æ–ø—ã—Ç–∞
            const expUpgrade = gameState.unlockedUpgrades.find(u => u.id === 'upgrade_experience_boost');
            if (expUpgrade) {
                exp *= (1 + (expUpgrade.level * 0.1));
            }
            
            return Math.round(exp);
        }
        
        function showDamageIndicator(event, damage, isCritical) {
            const rect = block.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            
            const damageElement = document.createElement('div');
            damageElement.className = 'damage-indicator';
            damageElement.textContent = \`-\${Math.round(damage)}\`;
            damageElement.style.left = \`\${x}px\`;
            damageElement.style.top = \`\${y}px\`;
            
            if (isCritical) {
                damageElement.style.color = '#FFD700';
                damageElement.style.fontSize = '1.5rem';
            }
            
            block.appendChild(damageElement);
            
            setTimeout(() => {
                damageElement.remove();
            }, 1000);
        }
        
        function showCoinAnimation(event, amount) {
            const rect = block.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            
            const coinElement = document.createElement('div');
            coinElement.className = 'coin-hit-animation';
            coinElement.textContent = \`+\${amount}\`;
            coinElement.style.left = \`\${x}px\`;
            coinElement.style.top = \`\${y}px\`;
            
            block.appendChild(coinElement);
            
            setTimeout(() => {
                coinElement.remove();
            }, 1000);
        }
        
        function destroyBlock() {
            gameState.isBreaking = true;
            gameState.blocksBroken++;
            
            // –ü–æ–ª—É—á–µ–Ω–∏–µ –±–æ–Ω—É—Å–Ω—ã—Ö –º–æ–Ω–µ—Ç –∑–∞ —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ
            const blockData = blocks[gameState.currentBlock];
            const bonusCoins = Math.floor(blockData.baseCoins.max * 3 * gameState.coinMultiplier);
            gameState.coins += bonusCoins;
            gameState.totalCoinsEarned += bonusCoins;
            
            // –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø—ã—Ç–∞ –∑–∞ —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ
            const experience = blockData.experience;
            gameState.experience += experience;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è
            if (gameState.animationsEnabled) {
                block.style.animation = 'breakBlock 0.5s forwards';
            }
            
            // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –±–ª–æ–∫—É
            setTimeout(() => {
                gameState.currentBlock++;
                
                // –ï—Å–ª–∏ –¥–æ—à–ª–∏ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –±–ª–æ–∫–∞, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–∏—Ç—Ä—ã
                if (gameState.currentBlock >= TOTAL_BLOCKS && !gameState.creditsShown) {
                    showCredits();
                    gameState.creditsShown = true;
                    gameState.currentBlock = 0; // –ù–∞—á–∏–Ω–∞–µ–º —Å–Ω–∞—á–∞–ª–∞
                } else if (gameState.currentBlock >= TOTAL_BLOCKS) {
                    gameState.currentBlock = 0; // –ü—Ä–æ—Å—Ç–æ –Ω–∞—á–∏–Ω–∞–µ–º —Å–Ω–∞—á–∞–ª–∞
                }
                
                // –°–±—Ä–æ—Å –∞–Ω–∏–º–∞—Ü–∏–∏
                block.style.animation = '';
                gameState.isBreaking = false;
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –±–ª–æ–∫–∞
                initBlock();
                updateUI();
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å
                checkLevelUp();
                
                // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
                saveGame();
            }, 500);
        }
        
        // ============================
        // –°–ò–°–¢–ï–ú–ê –£–†–û–í–ù–ï–ô
        // ============================
        
        function checkLevelUp() {
            while (gameState.experience >= gameState.maxExperience) {
                gameState.experience -= gameState.maxExperience;
                gameState.level++;
                gameState.maxExperience = Math.floor(gameState.maxExperience * 1.5);
                
                // –ù–∞–≥—Ä–∞–¥–∞ –∑–∞ —É—Ä–æ–≤–µ–Ω—å
                const levelReward = gameState.level * 1000;
                gameState.coins += levelReward;
                
                // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º —É—Ä–æ–≤–Ω–µ
                if (gameState.notificationsEnabled) {
                    showLevelUpNotification();
                }
            }
            
            updateUI();
        }
        
        function checkLevelRequirement() {
            const blockData = blocks[gameState.currentBlock];
            
            // –ï—Å–ª–∏ —É—Ä–æ–≤–µ–Ω—å –∏–≥—Ä–æ–∫–∞ –º–µ–Ω—å—à–µ —Ç—Ä–µ–±—É–µ–º–æ–≥–æ, –æ—Ç–∫–∞—Ç—ã–≤–∞–µ–º—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –±–ª–æ–∫—É
            if (gameState.level < blockData.level) {
                for (let i = gameState.currentBlock - 1; i >= 0; i--) {
                    if (blocks[i].level <= gameState.level) {
                        gameState.currentBlock = i;
                        initBlock();
                        updateUI();
                        break;
                    }
                }
            }
        }
        
        function showLevelUpNotification() {
            if (!gameState.notificationsEnabled) return;
            
            const notification = document.createElement('div');
            notification.style.cssText = \`
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(45deg, #4CAF50, #2E7D32);
                color: white;
                padding: 20px 30px;
                border-radius: 15px;
                font-size: 1.5rem;
                font-weight: bold;
                z-index: 1000;
                text-align: center;
                box-shadow: 0 10px 30px rgba(0,0,0,0.5);
                animation: fadeIn 0.5s, fadeOut 0.5s 2.5s forwards;
            \`;
            
            notification.innerHTML = \`
                <div style="font-size: 2rem; margin-bottom: 10px;">
                    <i class="fas fa-trophy"></i>
                </div>
                <div>–î–æ—Å—Ç–∏–≥–Ω—É—Ç —É—Ä–æ–≤–µ–Ω—å \${gameState.level}!</div>
                <div style="font-size: 1rem; margin-top: 10px; opacity: 0.8;">
                    +\${formatNumber(gameState.level * 1000)} –º–æ–Ω–µ—Ç
                </div>
            \`;
            
            document.getElementById('game-container').appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
        
        // ============================
        // –¢–ò–¢–†–´
        // ============================
        
        function showCredits() {
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            saveGame();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω —Ç–∏—Ç—Ä–æ–≤
            gameScreen.style.display = 'none';
            creditsScreen.style.display = 'flex';
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Ç–∏—Ç—Ä–æ–≤
            const creditsContent = document.getElementById('credits-content');
            creditsContent.style.animation = 'creditsScroll 30s linear';
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –≤ –º–µ–Ω—é —á–µ—Ä–µ–∑ 35 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                creditsScreen.style.display = 'none';
                menuScreen.style.display = 'flex';
                creditsContent.style.animation = '';
            }, 35000);
        }
        
        // ============================
        // –†–ï–ì–ï–ù–ï–†–ê–¶–ò–Ø
        // ============================
        
        function startRegenerationTimer() {
            if (gameState.antiRegen || !gameState.regenerationEnabled) return;
            
            gameState.regenerationTimer = setTimeout(() => {
                startRegeneration();
            }, gameState.regenerationDelay * 1000);
        }
        
        function startRegeneration() {
            if (gameState.isBreaking || gameState.antiRegen) return;
            
            regenerationIndicator.style.display = 'block';
            block.classList.add('regenerating');
            
            gameState.regenerationInterval = setInterval(() => {
                if (gameState.isBreaking || gameState.antiRegen || gameState.currentHealth >= gameState.maxHealth) {
                    stopRegeneration();
                    return;
                }
                
                gameState.currentHealth = Math.min(gameState.currentHealth + gameState.regenerationRate, gameState.maxHealth);
                updateUI();
                
                regenerationIndicator.textContent = \`+\${gameState.regenerationRate} HP\`;
                
                if (gameState.currentHealth >= gameState.maxHealth) {
                    stopRegeneration();
                }
            }, 10000);
        }
        
        function stopRegeneration() {
            if (gameState.regenerationInterval) {
                clearInterval(gameState.regenerationInterval);
                gameState.regenerationInterval = null;
            }
            
            regenerationIndicator.style.display = 'none';
            block.classList.remove('regenerating');
            
            if (gameState.regenerationEnabled && !gameState.antiRegen) {
                startRegenerationTimer();
            }
        }
        
        // ============================
        // –ê–í–¢–û–ö–õ–ò–ö–ï–†–´
        // ============================
        
        function addAutoClicker(clickerData) {
            gameState.autoClickers.push({
                id: clickerData.id,
                name: clickerData.name,
                damage: clickerData.effect.damage,
                interval: clickerData.effect.interval
            });
            
            startAutoClicker(clickerData);
        }
        
        function startAutoClicker(clickerData) {
            const intervalId = setInterval(() => {
                if (!gameState.isBreaking) {
                    // –°–æ–∑–¥–∞–µ–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ –∫–ª–∏–∫–∞
                    const rect = block.getBoundingClientRect();
                    const event = {
                        clientX: rect.left + rect.width / 2,
                        clientY: rect.top + rect.height / 2
                    };
                    
                    // –ù–∞–Ω–æ—Å–∏–º —É—Ä–æ–Ω
                    const damage = clickerData.effect.damage + gameState.autoClickerDamage;
                    gameState.currentHealth -= damage;
                    gameState.totalDamage += damage;
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    if (gameState.notificationsEnabled) {
                        const autoClickerInfo = document.getElementById('auto-clicker-info');
                        autoClickerInfo.textContent = \`\${clickerData.name}: -\${damage} HP\`;
                        autoClickerInfo.style.display = 'block';
                        
                        setTimeout(() => {
                            autoClickerInfo.style.display = 'none';
                        }, 1000);
                    }
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ –±–ª–æ–∫–∞
                    if (gameState.currentHealth <= 0) {
                        destroyBlock();
                    } else {
                        updateUI();
                    }
                }
            }, clickerData.effect.interval);
            
            gameState.autoClickerIntervals.push(intervalId);
        }
        
        // ============================
        // –ú–ê–ì–ê–ó–ò–ù –ò –£–õ–£–ß–®–ï–ù–ò–Ø
        // ============================
        
        function loadShopItems() {
            const shopItemsContainer = document.getElementById('shop-items-container');
            shopItemsContainer.innerHTML = '';
            
            shopItems.forEach(item => {
                const isPurchased = gameState.purchasedItems[item.id];
                const canPurchase = gameState.coins >= item.price && 
                    (!item.requires || gameState.purchasedItems[item.requires]);
                
                const shopItem = document.createElement('div');
                shopItem.className = 'shop-item';
                shopItem.dataset.category = item.category;
                
                shopItem.innerHTML = \`
                    <div class="item-header">
                        <div class="item-title">
                            <div class="item-icon" style="background-color: \${item.iconColor};">
                                <i class="\${item.icon}"></i>
                            </div>
                            \${item.name}
                        </div>
                        <div class="item-price">\${formatNumber(item.price)}</div>
                    </div>
                    <div class="item-description">\${item.description}</div>
                    <div class="item-stats">
                        \${item.maxLevel > 1 ? \`<div class="item-level">–£—Ä–æ–≤–µ–Ω—å: \${isPurchased ? isPurchased.level || 1 : 1}/\${item.maxLevel}</div>\` : ''}
                        \${item.consumable ? '<div style="color: #FF9800;">–û–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–µ</div>' : ''}
                    </div>
                    <button class="buy-btn" data-id="\${item.id}" \${isPurchased && !item.consumable ? 'disabled' : !canPurchase ? 'disabled' : ''}>
                        \${isPurchased && !item.consumable ? 
                            \`<i class="fas fa-check"></i> –ö—É–ø–ª–µ–Ω–æ\` : 
                            \`<i class="fas fa-shopping-cart"></i> –ö—É–ø–∏—Ç—å\`}
                    </button>
                \`;
                
                shopItemsContainer.appendChild(shopItem);
            });
            
            // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const category = this.dataset.category;
                    
                    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
                    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤
                    document.querySelectorAll('.shop-item').forEach(item => {
                        if (category === 'all' || item.dataset.category === category) {
                            item.style.display = 'block';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                });
            });
        }
        
        function loadUpgrades() {
            const upgradesContainer = document.getElementById('upgrades-container');
            upgradesContainer.innerHTML = '';
            
            upgrades.forEach(upgrade => {
                const currentUpgrade = gameState.unlockedUpgrades.find(u => u.id === upgrade.id);
                const level = currentUpgrade ? currentUpgrade.level : 0;
                const price = Math.floor(upgrade.basePrice * Math.pow(upgrade.priceMultiplier, level));
                const canPurchase = gameState.coins >= price && level < upgrade.maxLevel;
                
                const upgradeCard = document.createElement('div');
                upgradeCard.className = 'upgrade-card';
                
                upgradeCard.innerHTML = \`
                    <div class="upgrade-icon">
                        <i class="\${upgrade.icon}"></i>
                    </div>
                    <div class="upgrade-title">\${upgrade.name}</div>
                    <div class="upgrade-description">\${upgrade.description}</div>
                    <div class="upgrade-price">\${formatNumber(price)} –º–æ–Ω–µ—Ç</div>
                    <div style="margin-bottom: 10px; color: #4CAF50;">
                        –£—Ä–æ–≤–µ–Ω—å: \${level}/\${upgrade.maxLevel}
                    </div>
                    <button class="buy-btn" data-id="\${upgrade.id}" \${!canPurchase ? 'disabled' : ''}>
                        <i class="fas fa-arrow-up"></i> –£–ª—É—á—à–∏—Ç—å
                    </button>
                \`;
                
                upgradesContainer.appendChild(upgradeCard);
            });
        }
        
        function loadStats() {
            const statsContainer = document.getElementById('stats-container');
            statsContainer.innerHTML = '';
            
            const stats = [
                { label: '–í—Å–µ–≥–æ –∫–ª–∏–∫–æ–≤', value: gameState.totalClicks, icon: 'fas fa-mouse-pointer' },
                { label: '–†–∞–∑—Ä—É—à–µ–Ω–æ –±–ª–æ–∫–æ–≤', value: gameState.blocksBroken, icon: 'fas fa-gem' },
                { label: '–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ –º–æ–Ω–µ—Ç', value: gameState.totalCoinsEarned, icon: 'fas fa-coins' },
                { label: '–ù–∞–Ω–µ—Å–µ–Ω–æ —É—Ä–æ–Ω–∞', value: Math.floor(gameState.totalDamage), icon: 'fas fa-fist-raised' },
                { label: '–£—Ä–æ–≤–µ–Ω—å', value: gameState.level, icon: 'fas fa-level-up-alt' },
                { label: '–û–ø—ã—Ç', value: \`\${gameState.experience}/\${gameState.maxExperience}\`, icon: 'fas fa-star' },
                { label: '–£–í–° (—É—Ä–æ–Ω/—Å–µ–∫)', value: calculateDPS().toFixed(1), icon: 'fas fa-tachometer-alt' },
                { label: '–í—Ä–µ–º—è –∏–≥—Ä—ã', value: formatTime(gameState.playTimeSeconds), icon: 'fas fa-clock' },
                { label: '–ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä–æ–≤', value: gameState.autoClickers.length, icon: 'fas fa-robot' },
                { label: '–£–ª—É—á—à–µ–Ω–∏–π', value: gameState.unlockedUpgrades.length, icon: 'fas fa-cogs' }
            ];
            
            stats.forEach(stat => {
                const statCard = document.createElement('div');
                statCard.className = 'stat-card';
                
                statCard.innerHTML = \`
                    <div style="font-size: 1.5rem; color: #4CAF50; margin-bottom: 5px;">
                        <i class="\${stat.icon}"></i>
                    </div>
                    <div class="stat-card-value">\${typeof stat.value === 'number' ? formatNumber(stat.value) : stat.value}</div>
                    <div class="stat-card-label">\${stat.label}</div>
                \`;
                
                statsContainer.appendChild(statCard);
            });
        }
        
        function purchaseItem(itemId) {
            const item = shopItems.find(i => i.id === itemId);
            if (!item) return false;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–∂–µ –∫—É–ø–ª–µ–Ω–Ω–æ–≥–æ
            if (gameState.purchasedItems[itemId] && !item.consumable) {
                alert('–≠—Ç–æ—Ç –ø—Ä–µ–¥–º–µ—Ç —É–∂–µ –∫—É–ø–ª–µ–Ω!');
                return false;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
            if (item.requires && !gameState.purchasedItems[item.requires]) {
                alert(\`–°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –∫—É–ø–∏—Ç—å: \${shopItems.find(i => i.id === item.requires).name}\`);
                return false;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω—ã
            if (gameState.coins < item.price) {
                alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!');
                return false;
            }
            
            // –ü–æ–∫—É–ø–∫–∞
            gameState.coins -= item.price;
            
            // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞
            applyItemEffect(item);
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–∫—É–ø–∫–µ
            if (item.consumable) {
                // –î–ª—è —Ä–∞—Å—Ö–æ–¥—É–µ–º—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫
                if (!gameState.purchasedItems[itemId]) {
                    gameState.purchasedItems[itemId] = { count: 1 };
                } else {
                    gameState.purchasedItems[itemId].count++;
                }
            } else {
                // –î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤
                if (item.maxLevel > 1) {
                    if (!gameState.purchasedItems[itemId]) {
                        gameState.purchasedItems[itemId] = { level: 1 };
                    } else {
                        gameState.purchasedItems[itemId].level++;
                    }
                } else {
                    gameState.purchasedItems[itemId] = true;
                }
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            updateUI();
            loadShopItems();
            
            // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
            saveGame();
            
            return true;
        }
        
        function applyItemEffect(item) {
            switch (item.effect.type) {
                case 'autoClicker':
                    addAutoClicker(item);
                    break;
                    
                case 'damageMultiplier':
                    gameState.damageMultiplier *= item.effect.value;
                    break;
                    
                case 'coinMultiplier':
                    gameState.coinMultiplier *= item.effect.value;
                    break;
                    
                case 'critical':
                    gameState.criticalChance += item.effect.chance;
                    gameState.criticalMultiplier *= item.effect.multiplier;
                    break;
                    
                case 'luck':
                    gameState.luckMultiplier *= item.effect.value;
                    break;
                    
                case 'antiRegen':
                    gameState.antiRegen = true;
                    stopRegeneration();
                    break;
                    
                case 'instantBreak':
                    gameState.currentHealth = 0;
                    destroyBlock();
                    break;
                    
                case 'blockSkip':
                    gameState.currentBlock++;
                    if (gameState.currentBlock >= TOTAL_BLOCKS) {
                        gameState.currentBlock = 0;
                    }
                    initBlock();
                    updateUI();
                    break;
            }
        }
        
        function purchaseUpgrade(upgradeId) {
            const upgrade = upgrades.find(u => u.id === upgradeId);
            if (!upgrade) return false;
            
            const currentUpgrade = gameState.unlockedUpgrades.find(u => u.id === upgradeId);
            const level = currentUpgrade ? currentUpgrade.level : 0;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è
            if (level >= upgrade.maxLevel) {
                alert('–î–æ—Å—Ç–∏–≥–Ω—É—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —É–ª—É—á—à–µ–Ω–∏—è!');
                return false;
            }
            
            // –†–∞—Å—á–µ—Ç —Ü–µ–Ω—ã
            const price = Math.floor(upgrade.basePrice * Math.pow(upgrade.priceMultiplier, level));
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–Ω–µ—Ç
            if (gameState.coins < price) {
                alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!');
                return false;
            }
            
            // –ü–æ–∫—É–ø–∫–∞
            gameState.coins -= price;
            
            // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
            applyUpgradeEffect(upgrade, level + 1);
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É–ª—É—á—à–µ–Ω–∏–∏
            if (currentUpgrade) {
                currentUpgrade.level++;
            } else {
                gameState.unlockedUpgrades.push({
                    id: upgradeId,
                    level: 1
                });
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            updateUI();
            loadUpgrades();
            
            // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
            saveGame();
            
            return true;
        }
        
        function applyUpgradeEffect(upgrade, level) {
            switch (upgrade.effect.type) {
                case 'baseDamage':
                    gameState.damageMultiplier += upgrade.effect.value * level;
                    break;
                    
                case 'coinValue':
                    gameState.coinMultiplier += upgrade.effect.value * level;
                    break;
                    
                case 'criticalChance':
                    gameState.criticalChance += upgrade.effect.value * level;
                    break;
                    
                case 'criticalMultiplier':
                    gameState.criticalMultiplier += upgrade.effect.value * level;
                    break;
                    
                case 'autoClickerDamage':
                    gameState.autoClickerDamage += upgrade.effect.value * level;
                    break;
                    
                case 'regenDelay':
                    gameState.regenerationDelay += upgrade.effect.value * level;
                    break;
                    
                case 'blockHealth':
                    // –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è –±–ª–æ–∫–æ–≤ (—ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–ª–æ–∫–∞)
                    break;
                    
                case 'experienceMultiplier':
                    // –£–º–Ω–æ–∂–µ–Ω–∏–µ –æ–ø—ã—Ç–∞ (—É–∂–µ —É—á—Ç–µ–Ω–æ –≤ getExperienceFromHit)
                    break;
            }
        }
        
        // ============================
        // –£–¢–ò–õ–ò–¢–´ –ò –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï
        // ============================
        
        function formatNumber(num) {
            if (num >= 1000000) {
                return (num / 1000000).toFixed(1) + 'M';
            } else if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'K';
            }
            return num.toString();
        }
        
        function formatTime(seconds) {
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = seconds % 60;
            
            if (hours > 0) {
                return \`\${hours}—á \${minutes}–º\`;
            } else if (minutes > 0) {
                return \`\${minutes}–º \${secs}—Å\`;
            } else {
                return \`\${secs}—Å\`;
            }
        }
        
        // ============================
        // –£–ü–†–ê–í–õ–ï–ù–ò–ï –ò –ù–ê–°–¢–†–û–ô–ö–ò
        // ============================
        
        function setupControls() {
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è
            continueBtn.addEventListener('click', () => {
                menuScreen.style.display = 'none';
                gameScreen.style.display = 'flex';
                initBlock();
                updateUI();
            });
            
            newGameBtn.addEventListener('click', () => {
                document.getElementById('new-game-modal').style.display = 'flex';
            });
            
            document.getElementById('confirm-new-game-btn').addEventListener('click', () => {
                // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
                gameState = {
                    coins: 0,
                    level: 1,
                    experience: 0,
                    maxExperience: 100,
                    currentBlock: 0,
                    currentHealth: 0,
                    maxHealth: 0,
                    
                    totalClicks: 0,
                    blocksBroken: 0,
                    totalCoinsEarned: 0,
                    totalDamage: 0,
                    playTimeSeconds: 0,
                    startTime: Date.now(),
                    lastSaveTime: Date.now(),
                    
                    damageMultiplier: 1,
                    coinMultiplier: 1,
                    criticalChance: 5,
                    criticalMultiplier: 2,
                    luckMultiplier: 1,
                    
                    autoClickers: [],
                    autoClickerDamage: 0,
                    
                    regenerationEnabled: true,
                    regenerationRate: 10,
                    regenerationDelay: 30,
                    antiRegen: false,
                    
                    soundEnabled: gameState.soundEnabled,
                    notificationsEnabled: gameState.notificationsEnabled,
                    autosaveEnabled: gameState.autosaveEnabled,
                    animationsEnabled: gameState.animationsEnabled,
                    
                    purchasedItems: {},
                    unlockedUpgrades: [],
                    
                    isBreaking: false,
                    isTouching: false,
                    lastHitTime: Date.now(),
                    regenerationTimer: null,
                    regenerationInterval: null,
                    autoClickerIntervals: [],
                    playTimer: null,
                    saveInterval: null,
                    
                    creditsShown: false
                };
                
                document.getElementById('new-game-modal').style.display = 'none';
                clearSave();
                menuScreen.style.display = 'none';
                gameScreen.style.display = 'flex';
                initBlock();
                updateUI();
            });
            
            document.getElementById('cancel-new-game-btn').addEventListener('click', () => {
                document.getElementById('new-game-modal').style.display = 'none';
            });
            
            statsMenuBtn.addEventListener('click', () => {
                menuScreen.style.display = 'none';
                statsScreen.style.display = 'flex';
                loadStats();
            });
            
            shopMenuBtn.addEventListener('click', () => {
                menuScreen.style.display = 'none';
                shopScreen.style.display = 'flex';
                loadShopItems();
            });
            
            upgradesMenuBtn.addEventListener('click', () => {
                menuScreen.style.display = 'none';
                upgradesScreen.style.display = 'flex';
                loadUpgrades();
            });
            
            settingsMenuBtn.addEventListener('click', () => {
                menuScreen.style.display = 'none';
                settingsScreen.style.display = 'flex';
            });
            
            // –ö–Ω–æ–ø–∫–∏ –≤ –∏–≥—Ä–µ
            gameShopBtn.addEventListener('click', () => {
                gameScreen.style.display = 'none';
                shopScreen.style.display = 'flex';
                loadShopItems();
            });
            
            gameUpgradesBtn.addEventListener('click', () => {
                gameScreen.style.display = 'none';
                upgradesScreen.style.display = 'flex';
                loadUpgrades();
            });
            
            gameStatsBtn.addEventListener('click', () => {
                gameScreen.style.display = 'none';
                statsScreen.style.display = 'flex';
                loadStats();
            });
            
            gameMenuBtn.addEventListener('click', () => {
                gameScreen.style.display = 'none';
                menuScreen.style.display = 'flex';
                saveGame();
            });
            
            // –ö–Ω–æ–ø–∫–∏ –Ω–∞–∑–∞–¥
            document.getElementById('shop-back-btn').addEventListener('click', () => {
                shopScreen.style.display = 'none';
                gameScreen.style.display = 'flex';
            });
            
            document.getElementById('upgrades-back-btn').addEventListener('click', () => {
                upgradesScreen.style.display = 'none';
                gameScreen.style.display = 'flex';
            });
            
            document.getElementById('stats-back-btn').addEventListener('click', () => {
                statsScreen.style.display = 'none';
                gameScreen.style.display = 'flex';
            });
            
            document.getElementById('settings-back-btn').addEventListener('click', () => {
                settingsScreen.style.display = 'none';
                gameScreen.style.display = 'flex';
            });
            
            creditsBackBtn.addEventListener('click', () => {
                creditsScreen.style.display = 'none';
                menuScreen.style.display = 'flex';
                const creditsContent = document.getElementById('credits-content');
                creditsContent.style.animation = '';
            });
            
            // –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å
            privacyBtn.addEventListener('click', () => {
                document.getElementById('privacy-modal').style.display = 'flex';
            });
            
            document.getElementById('close-modal-btn').addEventListener('click', () => {
                document.getElementById('privacy-modal').style.display = 'none';
            });
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
            document.getElementById('sound-toggle').checked = gameState.soundEnabled;
            document.getElementById('notifications-toggle').checked = gameState.notificationsEnabled;
            document.getElementById('autosave-toggle').checked = gameState.autosaveEnabled;
            document.getElementById('animations-toggle').checked = gameState.animationsEnabled;
            
            document.getElementById('sound-toggle').addEventListener('change', () => {
                gameState.soundEnabled = document.getElementById('sound-toggle').checked;
                saveGame();
            });
            
            document.getElementById('notifications-toggle').addEventListener('change', () => {
                gameState.notificationsEnabled = document.getElementById('notifications-toggle').checked;
                saveGame();
            });
            
            document.getElementById('autosave-toggle').addEventListener('change', () => {
                gameState.autosaveEnabled = document.getElementById('autosave-toggle').checked;
                saveGame();
            });
            
            document.getElementById('animations-toggle').addEventListener('change', () => {
                gameState.animationsEnabled = document.getElementById('animations-toggle').checked;
                saveGame();
            });
            
            document.getElementById('clear-data-btn').addEventListener('click', () => {
                document.getElementById('clear-data-modal').style.display = 'flex';
            });
            
            document.getElementById('confirm-clear-data-btn').addEventListener('click', () => {
                clearSave();
                document.getElementById('clear-data-modal').style.display = 'none';
                alert('–í—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã —É–¥–∞–ª–µ–Ω—ã!');
                location.reload();
            });
            
            document.getElementById('cancel-clear-data-btn').addEventListener('click', () => {
                document.getElementById('clear-data-modal').style.display = 'none';
            });
            
            document.getElementById('about-btn').addEventListener('click', () => {
                document.getElementById('about-modal').style.display = 'flex';
            });
            
            document.getElementById('close-about-modal-btn').addEventListener('click', () => {
                document.getElementById('about-modal').style.display = 'none';
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∏—Ö
            window.addEventListener('click', (event) => {
                if (event.target.classList.contains('modal')) {
                    event.target.style.display = 'none';
                }
            });
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤ –ø–æ –±–ª–æ–∫—É
            block.addEventListener('mousedown', (event) => {
                if (!gameState.isTouching) {
                    gameState.isTouching = true;
                    handleBlockClick(event);
                }
            });
            
            block.addEventListener('mouseup', () => {
                gameState.isTouching = false;
            });
            
            block.addEventListener('mouseleave', () => {
                gameState.isTouching = false;
            });
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞—Å–∞–Ω–∏–π –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
            block.addEventListener('touchstart', (e) => {
                e.preventDefault();
                if (!gameState.isTouching) {
                    gameState.isTouching = true;
                    const touch = e.touches[0];
                    const event = {
                        clientX: touch.clientX,
                        clientY: touch.clientY
                    };
                    handleBlockClick(event);
                }
            });
            
            block.addEventListener('touchend', (e) => {
                e.preventDefault();
                gameState.isTouching = false;
            });
            
            block.addEventListener('touchcancel', () => {
                gameState.isTouching = false;
            });
            
            // –ü–æ–∫—É–ø–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –º–∞–≥–∞–∑–∏–Ω–µ
            document.getElementById('shop-items-container').addEventListener('click', (e) => {
                const buyBtn = e.target.closest('.buy-btn');
                if (buyBtn && !buyBtn.disabled) {
                    const itemId = buyBtn.dataset.id;
                    const success = purchaseItem(itemId);
                    
                    if (success) {
                        alert('–ü–æ–∫—É–ø–∫–∞ —É—Å–ø–µ—à–Ω–∞!');
                    }
                }
            });
            
            // –ü–æ–∫—É–ø–∫–∞ —É–ª—É—á—à–µ–Ω–∏–π
            document.getElementById('upgrades-container').addEventListener('click', (e) => {
                const buyBtn = e.target.closest('.buy-btn');
                if (buyBtn && !buyBtn.disabled) {
                    const upgradeId = buyBtn.dataset.id;
                    const success = purchaseUpgrade(upgradeId);
                    
                    if (success) {
                        alert('–£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–æ!');
                    }
                }
            });
            
            // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é
            block.addEventListener('contextmenu', (e) => e.preventDefault());
        }
        
        // ============================
        // –¢–ê–ô–ú–ï–†–´
        // ============================
        
        function startTimers() {
            // –¢–∞–π–º–µ—Ä –∏–≥—Ä—ã (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏)
            gameState.playTimer = setInterval(() => {
                updateStatsDisplay();
            }, 1000);
            
            // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
            gameState.saveInterval = setInterval(() => {
                saveGame();
            }, 30000);
            
            // –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–∫–ª–∏–∫–µ—Ä–æ–≤
            gameState.autoClickers.forEach(clicker => {
                const item = shopItems.find(i => i.id === clicker.id);
                if (item) {
                    startAutoClicker(item);
                }
            });
            
            // –ó–∞–ø—É—Å–∫ —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            if (gameState.regenerationEnabled && !gameState.antiRegen) {
                startRegenerationTimer();
            }
        }
        
        // ============================
        // –ó–ê–ü–£–°–ö –ò–ì–†–´
        // ============================
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('DOMContentLoaded', initGame);
        
        // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('beforeunload', () => {
            saveGame();
        });
        
        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
        window.addEventListener('unload', () => {
            saveGame();
        });
        `;

        // TALKING DUNYAKHA STYLES
        const talkingDunyakhaStyles = `
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            font-family: 'Comic Sans MS', 'Chalkboard SE', 'Arial Rounded MT Bold', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #87CEEB 0%, #98FB98 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            padding: 0;
            touch-action: manipulation;
        }
        
        /* –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é */
        #main-menu {
            width: 100vw;
            height: 100vh;
            max-width: 500px;
            max-height: 900px;
            text-align: center;
            animation: fadeIn 0.8s ease;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .menu-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            padding: 30px 25px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            backdrop-filter: blur(10px);
            border: 5px solid #FFB6C1;
        }
        
        .logo {
            color: #FF69B4;
            font-size: 2.8rem;
            margin-bottom: 5px;
            text-shadow: 3px 3px 0 rgba(255, 182, 193, 0.3);
            font-weight: 900;
        }
        
        .logo span {
            color: #9370DB;
            font-size: 2.5rem;
            display: inline-block;
            animation: bounce 2s infinite;
        }
        
        .subtitle {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 40px;
            font-weight: 500;
        }
        
        .menu-btn {
            display: block;
            width: 100%;
            margin: 15px 0;
            padding: 22px;
            font-size: 1.3rem;
            font-weight: 700;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            color: white;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
            touch-action: manipulation;
        }
        
        .menu-btn:active {
            transform: scale(0.98);
        }
        
        .play-btn {
            background: linear-gradient(145deg, #FF69B4, #FF1493);
            margin-top: 20px;
        }
        
        .play-btn:hover {
            background: linear-gradient(145deg, #FF1493, #FF69B4);
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(255, 105, 180, 0.4);
        }
        
        .settings-btn {
            background: linear-gradient(145deg, #9370DB, #8A2BE2);
        }
        
        .settings-btn:hover {
            background: linear-gradient(145deg, #8A2BE2, #9370DB);
            transform: translateY(-3px);
        }
        
        .footer {
            margin-top: 30px;
            color: #888;
            font-size: 0.9rem;
        }
        
        /* –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω */
        #game-screen {
            display: none;
            width: 100vw;
            height: 100vh;
            max-width: 500px;
            max-height: 900px;
            position: relative;
        }
        
        .game-container {
            background: linear-gradient(180deg, #E6E6FA 0%, #FFF0F5 100%);
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }
        
        /* –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å */
        .top-bar {
            background: linear-gradient(90deg, #FFB6C1, #FF69B4);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            z-index: 10;
            position: relative;
        }
        
        .stats {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .stat-item {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.3);
            padding: 8px 15px;
            border-radius: 20px;
            color: #333;
            font-weight: 600;
            backdrop-filter: blur(5px);
            font-size: 0.9rem;
        }
        
        .stat-icon {
            font-size: 1.2rem;
        }
        
        /* –û–±–ª–∞—Å—Ç—å –∫–æ—Ä–æ–≤—ã */
        .cow-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 15px;
            position: relative;
            overflow: hidden;
            min-height: 0;
        }
        
        .room-bg {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, #F0F8FF 0%, #E0FFFF 100%);
            z-index: 1;
            border-radius: 20px;
            margin: 10px;
            border: 4px solid #FFD700;
        }
        
        .cow-container {
            position: relative;
            z-index: 5;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            width: 100%;
        }
        
        /* –ü–†–û–°–¢–ê–Ø –ö–û–†–û–í–ö–ê - –£–ë–†–ê–ù –°–õ–û–ñ–ù–´–ô –î–ò–ó–ê–ô–ù */
        .cow-character {
            width: 220px;
            height: 220px;
            cursor: pointer;
            transition: transform 0.3s ease;
            user-select: none;
            -webkit-user-select: none;
            filter: drop-shadow(0 15px 25px rgba(0, 0, 0, 0.2));
            touch-action: manipulation;
            border-radius: 50%;
            background: #FFF;
            padding: 20px;
            border: 6px solid #FFD700;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }
        
        .cow-emoji {
            font-size: 120px;
            transition: all 0.3s ease;
        }
        
        .cow-character:active .cow-emoji {
            transform: scale(0.9);
        }
        
        .message-bubble {
            background: white;
            padding: 15px 20px;
            border-radius: 25px;
            max-width: 280px;
            font-weight: 600;
            color: #333;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            position: relative;
            border: 3px solid #FF69B4;
            text-align: center;
            font-size: 1rem;
            word-wrap: break-word;
            display: none;
            z-index: 100;
        }
        
        .message-bubble.show {
            display: block;
            animation: messagePopIn 0.3s ease forwards;
        }
        
        .message-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 10px 10px 0;
            border-style: solid;
            border-color: white transparent transparent;
        }
        
        .message-bubble::before {
            content: '';
            position: absolute;
            bottom: -13px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 13px 13px 0;
            border-style: solid;
            border-color: #FF69B4 transparent transparent;
        }
        
        /* –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        .detailed-stats {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 15px;
            margin: 10px;
            width: 90%;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border: 3px solid #9370DB;
        }
        
        .stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding: 8px;
            border-radius: 15px;
            background: rgba(147, 112, 219, 0.1);
        }
        
        .stat-info {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
            color: #333;
        }
        
        .stat-value {
            font-weight: 700;
            font-size: 1.1rem;
            color: #FF69B4;
        }
        
        .stat-hint {
            font-size: 0.8rem;
            color: #666;
            margin-top: 5px;
            text-align: center;
        }
        
        /* –ü–∞–Ω–µ–ª—å –¥–µ–π—Å—Ç–≤–∏–π */
        .actions-panel {
            padding: 15px;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            background: rgba(255, 255, 255, 0.95);
            border-top: 4px solid #FFB6C1;
            box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.1);
            max-height: 170px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .action-btn {
            background: linear-gradient(145deg, #FFB6C1, #FF69B4);
            border: none;
            border-radius: 20px;
            padding: 16px 5px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            color: white;
            font-weight: 600;
            font-size: 0.85rem;
            box-shadow: 0 5px 15px rgba(255, 182, 193, 0.3);
            touch-action: manipulation;
        }
        
        .action-btn:active {
            transform: scale(0.95);
            box-shadow: 0 3px 10px rgba(255, 182, 193, 0.2);
        }
        
        .action-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .btn-icon {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }
        
        .btn-text {
            font-size: 0.8rem;
            text-align: center;
            line-height: 1.2;
        }
        
        /* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ */
        #settings-screen {
            display: none;
            width: 100vw;
            height: 100vh;
            max-width: 500px;
            max-height: 900px;
        }
        
        .settings-container {
            background: rgba(255, 255, 255, 0.98);
            width: 100%;
            height: 100%;
            padding: 25px 20px;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .settings-title {
            color: #FF69B4;
            font-size: 2.2rem;
            margin-bottom: 25px;
            text-align: center;
            font-weight: 900;
            text-shadow: 2px 2px 0 #FFB6C1;
        }
        
        .settings-section {
            margin-bottom: 25px;
        }
        
        .section-title {
            color: #9370DB;
            font-size: 1.3rem;
            margin-bottom: 12px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title span {
            font-size: 1.5rem;
        }
        
        .settings-item {
            background: #FFF0F5;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 10px;
            border-left: 5px solid #FF69B4;
        }
        
        .settings-item label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: #333;
        }
        
        .slider {
            width: 100%;
            height: 8px;
            background: #FFB6C1;
            border-radius: 4px;
            margin-top: 10px;
            -webkit-appearance: none;
            appearance: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 26px;
            height: 26px;
            background: #9370DB;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 3px 10px rgba(147, 112, 219, 0.3);
            border: 3px solid white;
        }
        
        .toggle {
            position: relative;
            width: 52px;
            height: 28px;
            background: #FFB6C1;
            border-radius: 14px;
            transition: background 0.3s;
            cursor: pointer;
        }
        
        .toggle::after {
            content: '';
            position: absolute;
            top: 4px;
            left: 4px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s;
        }
        
        .toggle.active {
            background: #4CAF50;
        }
        
        .toggle.active::after {
            transform: translateX(24px);
        }
        
        .about-content {
            line-height: 1.6;
            color: #555;
            font-size: 0.95rem;
        }
        
        .about-content h4 {
            color: #9370DB;
            margin: 12px 0 6px;
            font-size: 1.1rem;
        }
        
        .about-content ul {
            padding-left: 20px;
            margin: 8px 0;
        }
        
        .about-content li {
            margin-bottom: 6px;
        }
        
        .author {
            background: linear-gradient(145deg, #9370DB, #FF69B4);
            color: white;
            padding: 18px;
            border-radius: 15px;
            margin-top: 20px;
            text-align: center;
            box-shadow: 0 8px 20px rgba(147, 112, 219, 0.3);
        }
        
        .author-name {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .back-btn {
            background: linear-gradient(145deg, #FF69B4, #9370DB);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 18px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            margin-top: 20px;
            width: 100%;
            box-shadow: 0 10px 20px rgba(255, 105, 180, 0.3);
            transition: all 0.3s;
        }
        
        .back-btn:active {
            transform: scale(0.98);
        }
        
        /* –≠–∫—Ä–∞–Ω —Å–Ω–∞ */
        .sleep-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(25, 25, 112, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease;
        }
        
        .sleep-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .sleep-content {
            text-align: center;
            color: white;
        }
        
        .moon {
            width: 120px;
            height: 120px;
            background: radial-gradient(circle at 30% 30%, #FFFACD, #FFD700);
            border-radius: 50%;
            margin: 0 auto 30px;
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.8);
            position: relative;
            animation: float 3s ease-in-out infinite;
        }
        
        .sleep-text {
            font-size: 1.8rem;
            margin-bottom: 20px;
            font-weight: 700;
            color: #FFD700;
        }
        
        .sleep-stats {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 15px;
            margin: 20px;
            color: #FFFACD;
        }
        
        .wake-btn {
            background: linear-gradient(145deg, #FFD700, #FFA500);
            color: #333;
            border: none;
            border-radius: 25px;
            padding: 15px 40px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            margin-top: 20px;
            box-shadow: 0 10px 20px rgba(255, 215, 0, 0.3);
            transition: all 0.3s;
        }
        
        .wake-btn:active {
            transform: scale(0.95);
        }
        
        /* –ú–∏–Ω–∏-–∏–≥—Ä—ã */
        .mini-game-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }
        
        .mini-game-container {
            background: white;
            border-radius: 25px;
            padding: 25px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            border: 5px solid #FF69B4;
        }
        
        .game-title {
            color: #FF69B4;
            font-size: 1.8rem;
            margin-bottom: 20px;
            font-weight: 900;
        }
        
        .game-instruction {
            color: #666;
            margin-bottom: 25px;
            font-size: 1rem;
            line-height: 1.5;
        }
        
        .game-area {
            margin: 20px 0;
            min-height: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        
        .game-score {
            font-size: 1.5rem;
            color: #9370DB;
            font-weight: 700;
            margin: 15px 0;
        }
        
        .game-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .game-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 20px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            color: white;
        }
        
        .close-game {
            background: #9370DB;
        }
        
        .game-action {
            background: #4CAF50;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–∏–Ω–∏-–∏–≥—Ä */
        .flower {
            width: 50px;
            height: 50px;
            cursor: pointer;
            transition: transform 0.3s;
            font-size: 2.5rem;
            position: absolute;
            animation: flowerAppear 0.5s ease;
        }
        
        .flower:active {
            transform: scale(1.2);
        }
        
        .butterfly {
            position: absolute;
            font-size: 2.5rem;
            cursor: pointer;
            transition: all 0.3s;
            animation: butterflyFloat 2s infinite alternate;
        }
        
        .butterfly:active {
            transform: scale(1.3);
        }
        
        .puzzle-piece {
            width: 70px;
            height: 70px;
            background: #FFB6C1;
            margin: 5px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            transition: all 0.3s;
        }
        
        .cloud {
            position: absolute;
            font-size: 3rem;
            cursor: pointer;
            animation: cloudFloat 4s infinite linear;
        }
        
        .fruit {
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 2.5rem;
            position: absolute;
            animation: fruitDrop 3s linear;
        }
        
        .star {
            width: 40px;
            height: 40px;
            cursor: pointer;
            font-size: 2rem;
            position: absolute;
            animation: starTwinkle 2s infinite;
        }
        
        .balloon {
            position: absolute;
            font-size: 2.5rem;
            cursor: pointer;
            animation: balloonFloat 5s linear;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes messagePopIn {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        
        @keyframes wiggle {
            0%, 100% { transform: rotate(0); }
            25% { transform: rotate(-5deg); }
            75% { transform: rotate(5deg); }
        }
        
        @keyframes cowHappy {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes cowSleep {
            0%, 100% { transform: rotate(0); }
            25% { transform: rotate(2deg); }
            75% { transform: rotate(-2deg); }
        }
        
        @keyframes cowDance {
            0% { transform: rotate(0) translateY(0); }
            25% { transform: rotate(-10deg) translateY(-10px); }
            50% { transform: rotate(0) translateY(0); }
            75% { transform: rotate(10deg) translateY(-10px); }
            100% { transform: rotate(0) translateY(0); }
        }
        
        @keyframes flowerAppear {
            0% { transform: scale(0); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        @keyframes butterflyFloat {
            0%, 100% { transform: translateY(0) rotate(0); }
            50% { transform: translateY(-15px) rotate(5deg); }
        }
        
        @keyframes cloudFloat {
            0% { left: -50px; }
            100% { left: 350px; }
        }
        
        @keyframes fruitDrop {
            0% { top: -50px; transform: rotate(0); }
            100% { top: 200px; transform: rotate(360deg); }
        }
        
        @keyframes starTwinkle {
            0%, 100% { opacity: 0.5; transform: scale(0.9); }
            50% { opacity: 1; transform: scale(1.1); }
        }
        
        @keyframes balloonFloat {
            0% { bottom: -50px; }
            100% { bottom: 250px; }
        }
        
        /* –°–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ—Ä–æ–≤—ã - –£–ü–†–û–©–ï–ù–´ */
        .cow-happy .cow-emoji {
            animation: cowHappy 1s infinite;
        }
        
        .cow-sleep .cow-emoji {
            content: 'üò¥';
            animation: cowSleep 3s infinite;
        }
        
        .cow-dance .cow-emoji {
            animation: cowDance 0.5s infinite;
        }
        
        .cow-hungry .cow-emoji {
            content: 'üòã';
            animation: wiggle 0.5s infinite;
        }
        
        .cow-sad .cow-emoji {
            content: 'üòî';
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 480px) {
            .logo {
                font-size: 2.2rem;
            }
            
            .logo span {
                font-size: 2rem;
            }
            
            .menu-btn {
                padding: 20px;
                font-size: 1.2rem;
            }
            
            .cow-character {
                width: 190px;
                height: 190px;
            }
            
            .cow-emoji {
                font-size: 100px;
            }
            
            .actions-panel {
                grid-template-columns: repeat(4, 1fr);
                gap: 10px;
                padding: 12px;
            }
            
            .action-btn {
                padding: 14px 3px;
            }
            
            .btn-icon {
                font-size: 1.6rem;
            }
            
            .btn-text {
                font-size: 0.75rem;
            }
            
            .message-bubble {
                max-width: 250px;
                padding: 12px 18px;
                font-size: 0.95rem;
            }
        }
        
        @media (max-height: 700px) {
            .cow-character {
                width: 170px;
                height: 170px;
            }
            
            .cow-emoji {
                font-size: 90px;
            }
            
            .actions-panel {
                max-height: 150px;
            }
            
            .detailed-stats {
                padding: 10px;
            }
        }
        
        /* –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
        .stat-progress {
            flex: 1;
            height: 12px;
            background: #FFB6C1;
            border-radius: 6px;
            margin: 0 10px;
            overflow: hidden;
        }
        
        .stat-progress-fill {
            height: 100%;
            border-radius: 6px;
            transition: width 0.5s ease;
        }
        
        .hunger-fill { background: linear-gradient(90deg, #FF9800, #FF5722); }
        .energy-fill { background: linear-gradient(90deg, #2196F3, #0D47A1); }
        .happiness-fill { background: linear-gradient(90deg, #FFEB3B, #FF9800); }
        .cleanliness-fill { background: linear-gradient(90deg, #00BCD4, #006064); }
        
        /* –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ */
        .actions-panel::-webkit-scrollbar {
            width: 6px;
        }
        
        .actions-panel::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 3px;
        }
        
        .actions-panel::-webkit-scrollbar-thumb {
            background: #FF69B4;
            border-radius: 3px;
        }
        `;

        // TALKING DUNYAKHA HTML
        const talkingDunyakhaHTML = `
        <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
        <div id="main-menu">
            <div class="menu-container">
                <h1 class="logo">My Talking <span>üêÑ</span></h1>
                <h1 class="logo" style="font-size: 2.5rem; color: #9370DB;">Dunyakha</h1>
                <p class="subtitle">–ú–∏–ª–∞—è –≥–æ–≤–æ—Ä—è—â–∞—è –º–∏–Ω–∏-–∫–æ—Ä–æ–≤–∫–∞!</p>
                
                <button class="menu-btn play-btn" onclick="startGame()">
                    üéÆ –ò–ì–†–ê–¢–¨
                </button>
                
                <button class="menu-btn settings-btn" onclick="showSettings()">
                    ‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò
                </button>
                
                <div class="footer">
                    –î–ª—è –¥–µ—Ç–µ–π –æ—Ç 3 –ª–µ—Ç ‚Ä¢ –ë–µ–∑–æ–ø–∞—Å–Ω–æ –∏ –≤–µ—Å–µ–ª–æ!
                </div>
            </div>
        </div>
        
        <!-- –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
        <div id="game-screen">
            <div class="game-container">
                <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
                <div class="top-bar">
                    <div class="stats">
                        <div class="stat-item">
                            <span class="stat-icon">üí∞</span>
                            <span id="coins">50</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">‚≠ê</span>
                            <span id="level">–£—Ä–æ–≤–µ–Ω—å 1</span>
                        </div>
                        <button class="stat-item" onclick="showSettings()" style="cursor: pointer; background: rgba(255,255,255,0.4);">
                            <span class="stat-icon">‚öôÔ∏è</span>
                        </button>
                    </div>
                </div>
                
                <!-- –û–±–ª–∞—Å—Ç—å –∫–æ—Ä–æ–≤—ã -->
                <div class="cow-area">
                    <div class="room-bg"></div>
                    
                    <div class="cow-container">
                        <!-- –ü–†–û–°–¢–ê–Ø –ö–û–†–û–í–ö–ê –≠–ú–û–î–ó–ò -->
                        <div class="cow-character" id="cow-character" onclick="petCow()">
                            <div class="cow-emoji">üêÑ</div>
                        </div>
                        
                        <div class="message-bubble" id="message-bubble">
                            –ü—Ä–∏–≤–µ—Ç! –Ø Dunyakha! üêÑ
                        </div>
                        
                        <!-- –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                        <div class="detailed-stats">
                            <div class="stat-row">
                                <div class="stat-info">
                                    <span>üçé</span>
                                    <span>–ì–æ–ª–æ–¥:</span>
                                </div>
                                <div class="stat-progress">
                                    <div class="stat-progress-fill hunger-fill" id="hunger-fill"></div>
                                </div>
                                <div class="stat-value" id="hunger-value">80%</div>
                            </div>
                            
                            <div class="stat-row">
                                <div class="stat-info">
                                    <span>‚ö°</span>
                                    <span>–≠–Ω–µ—Ä–≥–∏—è:</span>
                                </div>
                                <div class="stat-progress">
                                    <div class="stat-progress-fill energy-fill" id="energy-fill"></div>
                                </div>
                                <div class="stat-value" id="energy-value">90%</div>
                            </div>
                            
                            <div class="stat-row">
                                <div class="stat-info">
                                    <span>üòä</span>
                                    <span>–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ:</span>
                                </div>
                                <div class="stat-progress">
                                    <div class="stat-progress-fill happiness-fill" id="happiness-fill"></div>
                                </div>
                                <div class="stat-value" id="happiness-value">85%</div>
                            </div>
                            
                            <div class="stat-hint">
                                üí§ –°–æ–Ω –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é ‚Ä¢ üçé –ö–æ—Ä–º–∏ 3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å ‚Ä¢ üéÆ –ò–≥—Ä–∞–π –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ü–∞–Ω–µ–ª—å –¥–µ–π—Å—Ç–≤–∏–π -->
                <div class="actions-panel" id="actions-panel">
                    <button class="action-btn" onclick="feedCow()">
                        <div class="btn-icon">üçé</div>
                        <div class="btn-text">–ü–æ–∫–æ—Ä–º–∏—Ç—å</div>
                    </button>
                    
                    <button class="action-btn" onclick="toggleSleep()">
                        <div class="btn-icon">üí§</div>
                        <div class="btn-text">–£–ª–æ–∂–∏—Ç—å —Å–ø–∞—Ç—å</div>
                    </button>
                    
                    <button class="action-btn" onclick="playMiniGame()">
                        <div class="btn-icon">üéÆ</div>
                        <div class="btn-text">–ü–æ–∏–≥—Ä–∞—Ç—å</div>
                    </button>
                    
                    <button class="action-btn" onclick="cleanCow()">
                        <div class="btn-icon">üõÅ</div>
                        <div class="btn-text">–ü–æ–º—ã—Ç—å</div>
                    </button>
                    
                    <button class="action-btn" onclick="healCow()">
                        <div class="btn-icon">‚ù§Ô∏è</div>
                        <div class="btn-text">–ü–æ–ª–µ—á–∏—Ç—å</div>
                    </button>
                    
                    <button class="action-btn" onclick="danceCow()">
                        <div class="btn-icon">üíÉ</div>
                        <div class="btn-text">–ü–æ—Ç–∞–Ω—Ü–µ–≤–∞—Ç—å</div>
                    </button>
                    
                    <button class="action-btn" onclick="makeCowTalk()">
                        <div class="btn-icon">üó£Ô∏è</div>
                        <div class="btn-text">–ü–æ–≥–æ–≤–æ—Ä–∏—Ç—å</div>
                    </button>
                    
                    <button class="action-btn" onclick="useToilet()">
                        <div class="btn-icon">üöΩ</div>
                        <div class="btn-text">–¢—É–∞–ª–µ—Ç</div>
                    </button>
                </div>
                
                <!-- –≠–∫—Ä–∞–Ω —Å–Ω–∞ -->
                <div class="sleep-overlay" id="sleep-overlay">
                    <div class="sleep-content">
                        <div class="moon"></div>
                        <div class="sleep-text">Dunyakha —Å–ø–∏—Ç —Å–ª–∞–¥–∫–æ... üåô</div>
                        
                        <div class="sleep-stats">
                            <p>‚ö° –≠–Ω–µ—Ä–≥–∏—è –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è: +3% –≤ —Å–µ–∫—É–Ω–¥—É</p>
                            <p>üçé –ì–æ–ª–æ–¥ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ</p>
                            <p>üòä –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ</p>
                        </div>
                        
                        <button class="wake-btn" onclick="wakeUp()">
                            üò¥ –†–ê–ó–ë–£–î–ò–¢–¨
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
        <div id="settings-screen">
            <div class="settings-container">
                <h2 class="settings-title">‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò</h2>
                
                <div class="settings-section">
                    <h3 class="section-title"><span>üîä</span> –ó–≤—É–∫</h3>
                    <div class="settings-item">
                        <label>
                            –ì—Ä–æ–º–∫–æ—Å—Ç—å –≥–æ–ª–æ—Å–∞
                            <input type="range" class="slider" id="voice-volume" min="0" max="100" value="70">
                        </label>
                    </div>
                    <div class="settings-item">
                        <label>
                            –ó–≤—É–∫–∏ –∏–≥—Ä—ã
                            <div class="toggle active" id="sound-toggle" onclick="toggleSetting('sound')"></div>
                        </label>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3 class="section-title"><span>üéÆ</span> –ò–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å</h3>
                    <div class="settings-item">
                        <label>
                            –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
                            <div class="toggle active" id="autosave-toggle" onclick="toggleSetting('autosave')"></div>
                        </label>
                    </div>
                    <div class="settings-item">
                        <label>
                            –ü–æ–¥—Å–∫–∞–∑–∫–∏
                            <div class="toggle active" id="hints-toggle" onclick="toggleSetting('hints')"></div>
                        </label>
                    </div>
                    <div class="settings-item">
                        <label>
                            –ß–∞—Å—Ç–æ—Ç–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤
                            <select id="talk-frequency" style="padding: 5px 10px; border-radius: 10px; border: 2px solid #FF69B4;">
                                <option value="low">–†–µ–¥–∫–æ</option>
                                <option value="normal" selected>–ù–æ—Ä–º–∞–ª—å–Ω–æ</option>
                                <option value="often">–ß–∞—Å—Ç–æ</option>
                            </select>
                        </label>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3 class="section-title"><span>‚ú®</span> –ì—Ä–∞—Ñ–∏–∫–∞</h3>
                    <div class="settings-item">
                        <label>
                            –ê–Ω–∏–º–∞—Ü–∏–∏
                            <div class="toggle active" id="animations-toggle" onclick="toggleSetting('animations')"></div>
                        </label>
                    </div>
                    <div class="settings-item">
                        <label>
                            –Ø—Ä–∫–∏–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
                            <div class="toggle" id="effects-toggle" onclick="toggleSetting('effects')"></div>
                        </label>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3 class="section-title"><span>‚ÑπÔ∏è</span> –û –∏–≥—Ä–µ</h3>
                    <div class="settings-item">
                        <div class="about-content">
                            <h4>My Talking Dunyakha üêÑ</h4>
                            <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä –∑–∞–±–æ—Ç—ã –æ –º–∏–ª–æ–π –º–∏–Ω–∏-–∫–æ—Ä–æ–≤–∫–µ Dunyakha! –≠—Ç–æ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∏–≥—Ä–∞ –¥–ª—è –¥–µ—Ç–µ–π –æ—Ç 3 –ª–µ—Ç, –∫–æ—Ç–æ—Ä–∞—è —É—á–∏—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –∑–∞–±–æ—Ç–µ –æ –∂–∏–≤–æ—Ç–Ω—ã—Ö.</p>
                            
                            <h4>‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–≥—Ä—ã:</h4>
                            <ul>
                                <li><strong>–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π:</strong> –≥–æ–ª–æ–¥, —ç–Ω–µ—Ä–≥–∏—è, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</li>
                                <li><strong>8 –æ–±—É—á–∞—é—â–∏—Ö –º–∏–Ω–∏-–∏–≥—Ä</strong> –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è –≤–Ω–∏–º–∞–Ω–∏—è –∏ –º–æ—Ç–æ—Ä–∏–∫–∏</li>
                                <li><strong>–ì–æ–≤–æ—Ä—è—â–∞—è –∫–æ—Ä–æ–≤–∫–∞</strong> —Å –º–∏–ª—ã–º–∏ —Ñ—Ä–∞–∑–∞–º–∏ (–≥–æ–≤–æ—Ä–∏—Ç —Ä–µ–¥–∫–æ, —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞—Ç—å)</li>
                                <li><strong>–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</strong> —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ –ø–æ —É—Ö–æ–¥—É</li>
                                <li><strong>–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç</strong> - –Ω–µ—Ç —Ä–µ–∫–ª–∞–º—ã –∏ –ø–æ–∫—É–ø–æ–∫</li>
                                <li><strong>–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</strong> - –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è</li>
                            </ul>
                            
                            <h4>üìö –ß–µ–º—É —É—á–∏—Ç –∏–≥—Ä–∞:</h4>
                            <ul>
                                <li>–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ø–∏—Ç–æ–º—Ü–∞</li>
                                <li>–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—é —ç–º–æ—Ü–∏–π</li>
                                <li>–†–∞–∑–≤–∏—Ç–∏—é –º–µ–ª–∫–æ–π –º–æ—Ç–æ—Ä–∏–∫–∏</li>
                                <li>–ü–æ–Ω–∏–º–∞–Ω–∏—é –±–∞–∑–æ–≤—ã—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –∂–∏–≤—ã—Ö —Å—É—â–µ—Å—Ç–≤</li>
                            </ul>
                            
                            <h4>üîÑ –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è v5.0:</h4>
                            <ul>
                                <li><strong>–ü—Ä–æ—Å—Ç–∞—è –º–∏–ª–∞—è –∫–æ—Ä–æ–≤–∫–∞!</strong> –ß–∏—Å—Ç—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω</li>
                                <li>–£–±—Ä–∞–Ω—ã —Å–ª–æ–∂–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏, –∫–æ—Ä–æ–≤–∫–∞ –ø—Ä–æ—Å—Ç–æ —Å—Ç–æ–∏—Ç</li>
                                <li>–î–æ–±–∞–≤–ª–µ–Ω—ã 4 —Ä–∞–∑–≤–∏–≤–∞—é—â–∏–µ –º–∏–Ω–∏-–∏–≥—Ä—ã</li>
                                <li>–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –±–∞–≥–∏ —Å –∏–≥—Ä–∞–º–∏</li>
                                <li>–£–ø—Ä–æ—â–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–µ—Ç–µ–π</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="author">
                    <div class="author-name">üë®‚Äçüíª –ê–≤—Ç–æ—Ä –∏–≥—Ä—ã: –î–∞–Ω–∏–ª –§–∞—Ä–¥—Ç–¥–∏–Ω–æ–≤</div>
                    <p>üí° –ò–¥–µ—è –∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è: –î–∞–Ω–∏–ª–∞ –§–∞—Ä–¥—Ç–¥–∏–Ω–æ–≤–∞</p>
                    <p style="margin-top: 10px; font-size: 0.9rem; opacity: 0.9;">–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –ª—é–±–∏—Ç–µ–ª–µ–π –∂–∏–≤–æ—Ç–Ω—ã—Ö! üêÆ‚ù§Ô∏è</p>
                </div>
                
                <button class="back-btn" onclick="backToGame()">
                    ‚Üê –í–ï–†–ù–£–¢–¨–°–Ø –í –ò–ì–†–£
                </button>
                
                <button class="back-btn" style="background: linear-gradient(145deg, #4CAF50, #2E7D32); margin-top: 15px;" onclick="resetGame()">
                    üîÑ –ù–ê–ß–ê–¢–¨ –°–ù–ê–ß–ê–õ–ê
                </button>
            </div>
        </div>
        
        <!-- –ú–∏–Ω–∏-–∏–≥—Ä—ã -->
        <div class="mini-game-overlay" id="mini-game-overlay">
            <div class="mini-game-container" id="mini-game-container">
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –º–∏–Ω–∏-–∏–≥—Ä—ã –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
        `;

        // TALKING DUNYAKHA SCRIPT
        const talkingDunyakhaScript = `
        // ============================================
        // –ò–ì–†–ê: MY TALKING DUNYAKHA
        // –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –ø—Ä–æ—Å—Ç–æ–π –∫–æ—Ä–æ–≤–∫–æ–π
        // ============================================
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã
        const config = {
            cowName: "Dunyakha",
            maxHunger: 100,
            maxEnergy: 100,
            maxHappiness: 100,
            maxCleanliness: 100,
            tickInterval: 4000,
            hungerDecay: 1.2,
            energyDecay: 0.8,
            happinessDecay: 0.2,
            cleanlinessDecay: 0.1,
            sleepEnergyRecovery: 3,
            sleepHungerDecay: 0.2,
            talkChance: 0.1
        };
        
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
        let gameState = {
            hunger: 80,
            energy: 90,
            happiness: 85,
            cleanliness: 95,
            coins: 50,
            level: 1,
            isSleeping: false,
            xp: 0,
            maxXP: 100,
            lastTalkTime: 0,
            talkCooldown: 30000
        };
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        let userSettings = {
            sound: true,
            autosave: true,
            hints: true,
            animations: true,
            effects: false,
            talkFrequency: 'normal',
            voiceVolume: 70
        };
        
        // –°–ª–æ–≤–∞—Ä–Ω—ã–π –∑–∞–ø–∞—Å –∫–æ—Ä–æ–≤–∫–∏
        const cowVocabulary = {
            needs: [
                {condition: () => gameState.hunger < 30, phrases: ["–Ø –≥–æ–ª–æ–¥–Ω–∞—è... üçé", "–•–æ—á—É –ø–æ–∫—É—à–∞—Ç—å! ü•ï", "–ñ–∏–≤–æ—Ç —É—Ä—á–∏—Ç! üçΩÔ∏è"]},
                {condition: () => gameState.energy < 30, phrases: ["–Ø —É—Å—Ç–∞–ª–∞... üí§", "–•–æ—á—É –ø–æ—Å–ø–∞—Ç—å üåô", "–ì–ª–∞–∑–∫–∏ —Å–ª–∏–ø–∞—é—Ç—Å—è üò¥"]},
                {condition: () => gameState.happiness < 40, phrases: ["–ú–Ω–µ —Å–∫—É—á–Ω–æ... üéÆ", "–ü–æ–∏–≥—Ä–∞–π —Å–æ –º–Ω–æ–π! üéØ", "–•–æ—á—É –≤–µ—Å–µ–ª—å—è! ü•≥"]},
                {condition: () => gameState.cleanliness < 60, phrases: ["–Ø –≥—Ä—è–∑–Ω–∞—è! üõÅ", "–ü–æ–º–æ–π –º–µ–Ω—è! üí¶", "–§—É, –ø—ã–ª—å–Ω–æ! üßπ"]}
            ],
            thanks: [
                "–°–ø–∞—Å–∏–±–æ! –¢—ã –ª—É—á—à–∏–π! üíï",
                "–ö–∞–∫ –∑–¥–æ—Ä–æ–≤–æ! üéâ",
                "–Ø —Ç–∞–∫ —Ä–∞–¥–∞! üòä",
                "–ú—É—É—É-–±–ª–∞–≥–æ–¥–∞—Ä—é! üêÑ"
            ],
            greetings: [
                "–ü—Ä–∏–≤–µ—Ç, –¥—Ä—É–∂–æ–∫! üëã",
                "–†–∞–¥–∞ —Ç–µ–±—è –≤–∏–¥–µ—Ç—å! üåü",
                "–ö–∞–∫ —Ç–≤–æ–∏ –¥–µ–ª–∞? ü§ó",
                "–Ø —Å–æ—Å–∫—É—á–∏–ª–∞—Å—å! üíñ"
            ],
            happy: [
                "–Ø —Ç–∞–∫–∞—è —Å—á–∞—Å—Ç–ª–∏–≤–∞—è! üåà",
                "–£—Ä–∞! –í–µ—Å–µ–ª–æ! üéä",
                "–û–±–æ–∂–∞—é —Å —Ç–æ–±–æ–π –∏–≥—Ä–∞—Ç—å! üéÆ",
                "–¢—ã –º–æ–π –ª—É—á—à–∏–π –¥—Ä—É–≥! üë´"
            ]
        };
        
        // –ú–∏–Ω–∏-–∏–≥—Ä—ã (4 –∏–≥—Ä—ã –≤–º–µ—Å—Ç–æ 8, —á—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å)
        const miniGames = [
            {
                id: 1,
                name: "–°–æ–±–µ—Ä–∏ —Ü–≤–µ—Ç–æ—á–∫–∏",
                description: "–ù–∞–∂–∏–º–∞–π –Ω–∞ —Ü–≤–µ—Ç–æ—á–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–∞ –ª—É–≥—É. –°–æ–±–µ—Ä–∏ 8 —Ü–≤–µ—Ç–æ—á–∫–æ–≤!",
                icon: "üå∏",
                maxFlowers: 8,
                play: function() {
                    let score = 0;
                    let flowersOnScreen = 0;
                    const maxFlowers = this.maxFlowers;
                    const gameHTML = \`
                        <h2 class="game-title">üå∏ –°–æ–±–µ—Ä–∏ —Ü–≤–µ—Ç–æ—á–∫–∏</h2>
                        <p class="game-instruction">–ù–∞–∂–∏–º–∞–π –Ω–∞ —Ü–≤–µ—Ç–æ—á–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–∞ –ª—É–≥—É. –°–æ–±–µ—Ä–∏ \${maxFlowers} —Ü–≤–µ—Ç–æ—á–∫–æ–≤!</p>
                        <div class="game-area" id="game-area" style="position: relative; height: 200px; width: 100%; background: #E8F5E8; border-radius: 15px; border: 3px solid #4CAF50; overflow: hidden;">
                            <!-- –¶–≤–µ—Ç–æ—á–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
                        </div>
                        <div class="game-score" id="game-score">–¶–≤–µ—Ç–æ—á–∫–æ–≤: 0/\${maxFlowers}</div>
                        <div class="game-buttons">
                            <button class="game-btn close-game" onclick="closeMiniGame()">–ó–∞–∫—Ä—ã—Ç—å</button>
                        </div>
                    \`;
                    
                    document.getElementById('mini-game-container').innerHTML = gameHTML;
                    const gameArea = document.getElementById('game-area');
                    
                    function createFlower() {
                        if (score >= maxFlowers || flowersOnScreen >= 3) return;
                        
                        const flower = document.createElement('div');
                        flower.className = 'flower';
                        const flowerTypes = ['üå∏', 'üåº', 'üå∫', 'üåª', 'üåπ', 'üíê', 'ü•Ä', 'ü™∑'];
                        flower.innerHTML = flowerTypes[Math.floor(Math.random() * flowerTypes.length)];
                        flower.style.left = Math.random() * 250 + 'px';
                        flower.style.top = Math.random() * 150 + 'px';
                        flower.style.cursor = 'pointer';
                        
                        flower.addEventListener('click', function handleClick() {
                            score++;
                            flowersOnScreen--;
                            document.getElementById('game-score').textContent = \`–¶–≤–µ—Ç–æ—á–∫–æ–≤: \${score}/\${maxFlowers}\`;
                            this.style.transform = 'scale(1.5)';
                            this.style.opacity = '0.5';
                            this.style.cursor = 'default';
                            
                            this.removeEventListener('click', handleClick);
                            
                            setTimeout(() => {
                                if (this.parentNode) {
                                    this.parentNode.removeChild(this);
                                }
                            }, 300);
                            
                            if (score >= maxFlowers) {
                                setTimeout(() => {
                                    showMessage("–£—Ä–∞! –Ø —Å–æ–±—Ä–∞–ª–∞ –≤—Å–µ —Ü–≤–µ—Ç–æ—á–∫–∏! üå∏", 4000);
                                    gameState.happiness = Math.min(config.maxHappiness, gameState.happiness + 30);
                                    gameState.coins += 15;
                                    updateUI();
                                    closeMiniGame();
                                }, 500);
                            } else {
                                createFlower();
                            }
                        });
                        
                        gameArea.appendChild(flower);
                        flowersOnScreen++;
                        
                        if (score < maxFlowers - 1 && flowersOnScreen < 3) {
                            setTimeout(createFlower, 1000);
                        }
                        
                        // –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
                        setTimeout(() => {
                            if (flower.parentNode && flower.style.opacity !== '0.5') {
                                flower.style.opacity = '0.3';
                                flower.style.transition = 'opacity 1s';
                                setTimeout(() => {
                                    if (flower.parentNode) {
                                        flower.parentNode.removeChild(flower);
                                        flowersOnScreen--;
                                        createFlower();
                                    }
                                }, 1000);
                            }
                        }, 5000);
                    }
                    
                    // –ù–∞—á–∏–Ω–∞–µ–º —Å 2 —Ü–≤–µ—Ç–æ—á–∫–æ–≤
                    for (let i = 0; i < 2; i++) {
                        setTimeout(createFlower, i * 500);
                    }
                }
            },
            {
                id: 2,
                name: "–ù–∞–π–¥–∏ –±–∞–±–æ—á–∫—É",
                description: "–ë–∞–±–æ—á–∫–∞ –ø—Ä—è—á–µ—Ç—Å—è –≤ —Å–∞–¥—É. –ù–∞–π–¥–∏ –µ—ë 5 —Ä–∞–∑!",
                icon: "ü¶ã",
                play: function() {
                    let score = 0;
                    const maxButterflies = 5;
                    const gameHTML = \`
                        <h2 class="game-title">ü¶ã –ù–∞–π–¥–∏ –±–∞–±–æ—á–∫—É</h2>
                        <p class="game-instruction">–ë–∞–±–æ—á–∫–∞ –ø—Ä—è—á–µ—Ç—Å—è –≤ —Å–∞–¥—É. –ù–∞–π–¥–∏ –µ—ë \${maxButterflies} —Ä–∞–∑!</p>
                        <div class="game-area" id="game-area" style="position: relative; height: 200px; width: 100%; background: #E8F5E8; border-radius: 15px; border: 3px solid #4CAF50; overflow: hidden;">
                            <!-- –ë–∞–±–æ—á–∫–∞ –±—É–¥–µ—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
                        </div>
                        <div class="game-score" id="game-score">–ù–∞–π–¥–µ–Ω–æ: 0/\${maxButterflies}</div>
                        <div class="game-buttons">
                            <button class="game-btn close-game" onclick="closeMiniGame()">–ó–∞–∫—Ä—ã—Ç—å</button>
                        </div>
                    \`;
                    
                    document.getElementById('mini-game-container').innerHTML = gameHTML;
                    const gameArea = document.getElementById('game-area');
                    
                    function showButterfly() {
                        if (score >= maxButterflies) return;
                        
                        gameArea.innerHTML = '';
                        
                        const butterfly = document.createElement('div');
                        butterfly.className = 'butterfly';
                        butterfly.innerHTML = 'ü¶ã';
                        butterfly.style.left = Math.random() * 250 + 'px';
                        butterfly.style.top = Math.random() * 150 + 'px';
                        butterfly.style.cursor = 'pointer';
                        
                        butterfly.addEventListener('click', function handleClick() {
                            score++;
                            document.getElementById('game-score').textContent = \`–ù–∞–π–¥–µ–Ω–æ: \${score}/\${maxButterflies}\`;
                            this.style.transform = 'scale(1.5) rotate(360deg)';
                            this.style.opacity = '0.7';
                            this.style.cursor = 'default';
                            
                            this.removeEventListener('click', handleClick);
                            
                            setTimeout(() => {
                                if (score >= maxButterflies) {
                                    showMessage("–Ø –Ω–∞—à–ª–∞ –≤—Å–µ—Ö –±–∞–±–æ—á–µ–∫! ü¶ã", 4000);
                                    gameState.happiness = Math.min(config.maxHappiness, gameState.happiness + 25);
                                    gameState.coins += 12;
                                    updateUI();
                                    setTimeout(closeMiniGame, 1000);
                                } else {
                                    setTimeout(showButterfly, 500);
                                }
                            }, 500);
                        });
                        
                        gameArea.appendChild(butterfly);
                        
                        // –ê–≤—Ç–æ–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                        setTimeout(() => {
                            if (butterfly.parentNode && butterfly.style.opacity !== '0.7') {
                                butterfly.style.opacity = '0.3';
                                butterfly.style.transition = 'opacity 0.5s';
                                setTimeout(() => {
                                    if (butterfly.parentNode) {
                                        butterfly.parentNode.removeChild(butterfly);
                                        setTimeout(showButterfly, 300);
                                    }
                                }, 500);
                            }
                        }, 3000);
                    }
                    
                    showButterfly();
                }
            },
            {
                id: 3,
                name: "–õ–æ–ø–∞–π –æ–±–ª–∞–∫–∞",
                description: "–õ–æ–ø–∞–π –æ–±–ª–∞–∫–∞, –ø–æ–∫–∞ –æ–Ω–∏ –ø–ª—ã–≤—É—Ç –ø–æ –Ω–µ–±—É!",
                icon: "‚òÅÔ∏è",
                play: function() {
                    let score = 0;
                    let timeLeft = 20;
                    const gameHTML = \`
                        <h2 class="game-title">‚òÅÔ∏è –õ–æ–ø–∞–π –æ–±–ª–∞–∫–∞</h2>
                        <p class="game-instruction">–õ–æ–ø–∞–π –æ–±–ª–∞–∫–∞, –ø–æ–∫–∞ –æ–Ω–∏ –ø–ª—ã–≤—É—Ç –ø–æ –Ω–µ–±—É –∑–∞ 20 —Å–µ–∫—É–Ω–¥!</p>
                        <div class="game-area" id="game-area" style="position: relative; height: 200px; width: 100%; background: #87CEEB; border-radius: 15px; border: 3px solid #2196F3; overflow: hidden;">
                            <!-- –û–±–ª–∞–∫–∞ –±—É–¥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
                        </div>
                        <div class="game-score" id="game-score">–û–±–ª–∞–∫–æ–≤: 0 | –í—Ä–µ–º—è: 20—Å</div>
                        <div class="game-buttons">
                            <button class="game-btn close-game" onclick="closeMiniGame()">–ó–∞–∫—Ä—ã—Ç—å</button>
                        </div>
                    \`;
                    
                    document.getElementById('mini-game-container').innerHTML = gameHTML;
                    const gameArea = document.getElementById('game-area');
                    
                    // –¢–∞–π–º–µ—Ä
                    const timer = setInterval(() => {
                        timeLeft--;
                        document.getElementById('game-score').textContent = \`–û–±–ª–∞–∫–æ–≤: \${score} | –í—Ä–µ–º—è: \${timeLeft}—Å\`;
                        
                        if (timeLeft <= 0) {
                            clearInterval(timer);
                            clearInterval(cloudInterval);
                            showMessage(\`–Ø –ª–æ–ø–Ω—É–ª–∞ \${score} –æ–±–ª–∞–∫–æ–≤! ‚òÅÔ∏è\`, 4000);
                            gameState.happiness = Math.min(config.maxHappiness, gameState.happiness + score * 2);
                            gameState.coins += score;
                            updateUI();
                            setTimeout(closeMiniGame, 2000);
                        }
                    }, 1000);
                    
                    // –°–æ–∑–¥–∞–Ω–∏–µ –æ–±–ª–∞–∫–æ–≤
                    function createCloud() {
                        if (timeLeft <= 0) return;
                        
                        const cloud = document.createElement('div');
                        cloud.className = 'cloud';
                        cloud.innerHTML = '‚òÅÔ∏è';
                        cloud.style.left = '-50px';
                        cloud.style.top = Math.random() * 150 + 'px';
                        cloud.style.cursor = 'pointer';
                        cloud.style.fontSize = (Math.random() * 30 + 30) + 'px';
                        cloud.style.opacity = '0.9';
                        
                        cloud.addEventListener('click', function popCloud() {
                            score++;
                            document.getElementById('game-score').textContent = \`–û–±–ª–∞–∫–æ–≤: \${score} | –í—Ä–µ–º—è: \${timeLeft}—Å\`;
                            this.style.transform = 'scale(1.5)';
                            this.style.opacity = '0';
                            this.style.cursor = 'default';
                            
                            this.removeEventListener('click', popCloud);
                            
                            setTimeout(() => {
                                if (this.parentNode) {
                                    this.parentNode.removeChild(this);
                                }
                            }, 300);
                        });
                        
                        gameArea.appendChild(cloud);
                        
                        // –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –∑–∞ —ç–∫—Ä–∞–Ω
                        setTimeout(() => {
                            if (cloud.parentNode && cloud.style.opacity !== '0') {
                                cloud.parentNode.removeChild(cloud);
                            }
                        }, 5000);
                    }
                    
                    // –°–æ–∑–¥–∞–µ–º –æ–±–ª–∞–∫–∞ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
                    const cloudInterval = setInterval(createCloud, 1000);
                    
                    // –ü–µ—Ä–≤—ã–µ –æ–±–ª–∞–∫–∞
                    for (let i = 0; i < 3; i++) {
                        setTimeout(createCloud, i * 300);
                    }
                }
            },
            {
                id: 4,
                name: "–ü–æ–π–º–∞–π —Ñ—Ä—É–∫—Ç—ã",
                description: "–õ–æ–≤–∏ –ø–∞–¥–∞—é—â–∏–µ —Ñ—Ä—É–∫—Ç—ã –≤ –∫–æ—Ä–∑–∏–Ω–∫—É!",
                icon: "üçé",
                play: function() {
                    let score = 0;
                    let missed = 0;
                    const maxMissed = 5;
                    const gameHTML = \`
                        <h2 class="game-title">üçé –ü–æ–π–º–∞–π —Ñ—Ä—É–∫—Ç—ã</h2>
                        <p class="game-instruction">–ù–∞–∂–∏–º–∞–π –Ω–∞ –ø–∞–¥–∞—é—â–∏–µ —Ñ—Ä—É–∫—Ç—ã, –ø–æ–∫–∞ –æ–Ω–∏ –Ω–µ —É–ø–∞–ª–∏! –ü—Ä–æ–ø—É—Å—Ç–∏ –Ω–µ –±–æ–ª—å—à–µ \${maxMissed} —Ñ—Ä—É–∫—Ç–æ–≤.</p>
                        <div class="game-area" id="game-area" style="position: relative; height: 200px; width: 100%; background: #FFF9C4; border-radius: 15px; border: 3px solid #FF9800; overflow: hidden;">
                            <div style="position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); font-size: 3rem;">üß∫</div>
                        </div>
                        <div class="game-score" id="game-score">–§—Ä—É–∫—Ç–æ–≤: 0 | –ü—Ä–æ–ø—É—â–µ–Ω–æ: 0/\${maxMissed}</div>
                        <div class="game-buttons">
                            <button class="game-btn close-game" onclick="closeMiniGame()">–ó–∞–∫—Ä—ã—Ç—å</button>
                        </div>
                    \`;
                    
                    document.getElementById('mini-game-container').innerHTML = gameHTML;
                    const gameArea = document.getElementById('game-area');
                    
                    function createFruit() {
                        if (missed >= maxMissed) return;
                        
                        const fruit = document.createElement('div');
                        fruit.className = 'fruit';
                        const fruits = ['üçé', 'üçê', 'üçä', 'üçã', 'üçå', 'üçâ', 'üçá', 'üçì', 'ü´ê', 'üçà'];
                        fruit.innerHTML = fruits[Math.floor(Math.random() * fruits.length)];
                        fruit.style.left = Math.random() * 250 + 'px';
                        fruit.style.top = '-50px';
                        fruit.style.cursor = 'pointer';
                        
                        fruit.addEventListener('click', function catchFruit() {
                            score++;
                            document.getElementById('game-score').textContent = \`–§—Ä—É–∫—Ç–æ–≤: \${score} | –ü—Ä–æ–ø—É—â–µ–Ω–æ: \${missed}/\${maxMissed}\`;
                            this.style.transform = 'scale(1.5)';
                            this.style.opacity = '0';
                            this.style.cursor = 'default';
                            
                            this.removeEventListener('click', catchFruit);
                            
                            setTimeout(() => {
                                if (this.parentNode) {
                                    this.parentNode.removeChild(this);
                                }
                            }, 300);
                            
                            if (score >= 15) {
                                setTimeout(() => {
                                    showMessage("–Ø –ø–æ–π–º–∞–ª–∞ –º–Ω–æ–≥–æ —Ñ—Ä—É–∫—Ç–æ–≤! üçé", 4000);
                                    gameState.happiness = Math.min(config.maxHappiness, gameState.happiness + 35);
                                    gameState.coins += 20;
                                    updateUI();
                                    closeMiniGame();
                                }, 500);
                            }
                        });
                        
                        gameArea.appendChild(fruit);
                        
                        // –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–∞–¥–µ–Ω–∏—è
                        setTimeout(() => {
                            if (fruit.parentNode && fruit.style.opacity !== '0') {
                                fruit.parentNode.removeChild(fruit);
                                missed++;
                                document.getElementById('game-score').textContent = \`–§—Ä—É–∫—Ç–æ–≤: \${score} | –ü—Ä–æ–ø—É—â–µ–Ω–æ: \${missed}/\${maxMissed}\`;
                                
                                if (missed >= maxMissed) {
                                    showMessage(\`–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞! –Ø –ø–æ–π–º–∞–ª–∞ \${score} —Ñ—Ä—É–∫—Ç–æ–≤! üçé\`, 4000);
                                    gameState.happiness = Math.min(config.maxHappiness, gameState.happiness + score);
                                    gameState.coins += Math.floor(score / 2);
                                    updateUI();
                                    setTimeout(closeMiniGame, 2000);
                                }
                            }
                        }, 3000);
                        
                        // –°–æ–∑–¥–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —Ñ—Ä—É–∫—Ç
                        if (missed < maxMissed) {
                            setTimeout(createFruit, 800);
                        }
                    }
                    
                    // –ù–∞—á–∏–Ω–∞–µ–º —Å 3 —Ñ—Ä—É–∫—Ç–æ–≤
                    for (let i = 0; i < 3; i++) {
                        setTimeout(createFruit, i * 400);
                    }
                }
            }
        ];
        
        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const mainMenu = document.getElementById('main-menu');
        const gameScreen = document.getElementById('game-screen');
        const settingsScreen = document.getElementById('settings-screen');
        const cowCharacter = document.getElementById('cow-character');
        const cowEmoji = cowCharacter.querySelector('.cow-emoji');
        const messageBubble = document.getElementById('message-bubble');
        const sleepOverlay = document.getElementById('sleep-overlay');
        const miniGameOverlay = document.getElementById('mini-game-overlay');
        const actionsPanel = document.getElementById('actions-panel');
        
        // –¢–∞–π–º–µ—Ä –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π
        let messageTimer = null;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initGame() {
            loadGame();
            loadSettings();
            updateUI();
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
            setInterval(gameTick, config.tickInterval);
            
            // –°–ª—É—á–∞–π–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
            setTimeout(() => {
                makeCowTalk(true);
            }, 1500);
        }
        
        // –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
        function gameTick() {
            if (gameState.isSleeping) {
                // –í–æ —Å–Ω–µ —ç–Ω–µ—Ä–≥–∏—è –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –≥–æ–ª–æ–¥ –º–µ–¥–ª–µ–Ω–Ω–æ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è
                gameState.energy = Math.min(config.maxEnergy, gameState.energy + config.sleepEnergyRecovery);
                gameState.hunger = Math.max(0, gameState.hunger - config.sleepHungerDecay);
                gameState.happiness = Math.max(0, gameState.happiness - 0.1);
            } else {
                // –û–±—ã—á–Ω–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
                gameState.hunger = Math.max(0, gameState.hunger - config.hungerDecay);
                gameState.energy = Math.max(0, gameState.energy - config.energyDecay);
                gameState.happiness = Math.max(0, gameState.happiness - config.happinessDecay);
                gameState.cleanliness = Math.max(0, gameState.cleanliness - config.cleanlinessDecay);
                
                // –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä –∫–æ—Ä–æ–≤–∫–∏ (—Ä–µ–¥–∫–æ)
                if (Date.now() - gameState.lastTalkTime > gameState.talkCooldown) {
                    const talkProbability = userSettings.talkFrequency === 'low' ? 0.05 : 
                                          userSettings.talkFrequency === 'often' ? 0.2 : 0.1;
                    
                    if (Math.random() < talkProbability) {
                        makeCowTalk(false);
                        gameState.lastTalkTime = Date.now();
                    }
                }
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è
            checkLevelUp();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            updateUI();
            
            // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
            if (userSettings.autosave && Math.random() < 0.15) {
                saveGame();
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
            document.getElementById('coins').textContent = gameState.coins;
            document.getElementById('level').textContent = \`–£—Ä–æ–≤–µ–Ω—å \${gameState.level}\`;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã
            document.getElementById('hunger-fill').style.width = \`\${gameState.hunger}%\`;
            document.getElementById('energy-fill').style.width = \`\${gameState.energy}%\`;
            document.getElementById('happiness-fill').style.width = \`\${gameState.happiness}%\`;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è
            document.getElementById('hunger-value').textContent = \`\${Math.round(gameState.hunger)}%\`;
            document.getElementById('energy-value').textContent = \`\${Math.round(gameState.energy)}%\`;
            document.getElementById('happiness-value').textContent = \`\${Math.round(gameState.happiness)}%\`;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ—Ä–æ–≤—ã
            updateCowState();
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ—Ä–æ–≤–∫–∏
        function updateCowState() {
            // –£–¥–∞–ª—è–µ–º –≤—Å–µ –∫–ª–∞—Å—Å—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π
            cowCharacter.classList.remove('cow-happy', 'cow-sleep', 'cow-dance', 'cow-hungry', 'cow-sad');
            
            if (gameState.isSleeping) {
                cowCharacter.classList.add('cow-sleep');
                cowEmoji.textContent = 'üò¥';
                return;
            } else {
                cowEmoji.textContent = 'üêÑ';
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è
            if (gameState.happiness > 80) {
                cowCharacter.classList.add('cow-happy');
            } else if (gameState.hunger < 30) {
                cowCharacter.classList.add('cow-hungry');
                cowEmoji.textContent = 'üòã';
            } else if (gameState.energy < 30 || gameState.happiness < 40) {
                cowCharacter.classList.add('cow-sad');
                cowEmoji.textContent = 'üòî';
            }
            
            // –°–æ–æ–±—â–µ–Ω–∏—è –æ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è—Ö
            if (gameState.hunger < 30) {
                showMessage("–Ø –≥–æ–ª–æ–¥–Ω–∞—è... üçé", 4000);
            } else if (gameState.energy < 30) {
                showMessage("–Ø —É—Å—Ç–∞–ª–∞... üí§", 4000);
            } else if (gameState.happiness < 40) {
                showMessage("–ú–Ω–µ —Å–∫—É—á–Ω–æ... üéÆ", 4000);
            } else if (gameState.cleanliness < 60) {
                showMessage("–Ø –≥—Ä—è–∑–Ω–∞—è! üõÅ", 4000);
            }
        }
        
        // –†–∞–∑–≥–æ–≤–æ—Ä –∫–æ—Ä–æ–≤–∫–∏
        function makeCowTalk(isGreeting = false) {
            if (!userSettings.hints) return;
            
            let message = "";
            
            if (isGreeting) {
                // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
                message = cowVocabulary.greetings[Math.floor(Math.random() * cowVocabulary.greetings.length)];
            } else {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏
                for (const need of cowVocabulary.needs) {
                    if (need.condition()) {
                        message = need.phrases[Math.floor(Math.random() * need.phrases.length)];
                        break;
                    }
                }
                
                // –ï—Å–ª–∏ –Ω–µ—Ç —Å—Ä–æ—á–Ω—ã—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π, –≥–æ–≤–æ—Ä–∏–º —á—Ç–æ-—Ç–æ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–µ
                if (!message && gameState.happiness > 70) {
                    message = cowVocabulary.happy[Math.floor(Math.random() * cowVocabulary.happy.length)];
                }
                
                // –ï—Å–ª–∏ –≤—Å—ë —Ö–æ—Ä–æ—à–æ –∏ –Ω–µ—Ç –ø–æ–∑–∏—Ç–∏–≤–∞, –∏–Ω–æ–≥–¥–∞ –º–æ–ª—á–∏–º
                if (!message && Math.random() > 0.3) {
                    return; // –ú–æ–ª—á–∏–º
                }
                
                // –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, –≥–æ–≤–æ—Ä–∏–º —Å–ø–∞—Å–∏–±–æ
                if (!message) {
                    message = cowVocabulary.thanks[Math.floor(Math.random() * cowVocabulary.thanks.length)];
                }
            }
            
            showMessage(message, 5000);
            
            // –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
            if (userSettings.animations) {
                cowCharacter.style.transform = 'scale(1.05)';
                setTimeout(() => {
                    cowCharacter.style.transform = 'scale(1)';
                }, 300);
            }
            
            gameState.lastTalkTime = Date.now();
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
        function showMessage(message, duration = 5000) {
            if (!userSettings.hints) return;
            
            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ç–∞–π–º–µ—Ä
            if (messageTimer) {
                clearTimeout(messageTimer);
            }
            
            messageBubble.textContent = message;
            messageBubble.classList.add('show');
            
            // –°–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è
            messageTimer = setTimeout(() => {
                messageBubble.classList.remove('show');
                messageTimer = null;
            }, duration);
        }
        
        // –î–µ–π—Å—Ç–≤–∏—è –∏–≥—Ä–æ–∫–∞
        function feedCow() {
            if (gameState.hunger >= config.maxHunger) {
                showMessage("–Ø —É–∂–µ —Å—ã—Ç–∞! üçΩÔ∏è", 4000);
                return;
            }
            
            gameState.hunger = Math.min(config.maxHunger, gameState.hunger + 25);
            gameState.happiness = Math.min(config.maxHappiness, gameState.happiness + 10);
            gameState.coins += 5;
            
            if (userSettings.animations) {
                cowCharacter.style.transform = 'scale(1.1)';
                setTimeout(() => {
                    cowCharacter.style.transform = 'scale(1)';
                }, 300);
            }
            
            makeCowTalk();
            updateUI();
        }
        
        function toggleSleep() {
            gameState.isSleeping = true;
            sleepOverlay.classList.add('active');
            
            const buttons = actionsPanel.querySelectorAll('.action-btn');
            buttons.forEach(btn => {
                if (!btn.querySelector('.btn-icon').textContent.includes('üí§')) {
                    btn.disabled = true;
                }
            });
            
            showMessage("–°–ø–æ–∫–æ–π–Ω–æ–π –Ω–æ—á–∏... üåô", 4000);
            updateUI();
        }
        
        function wakeUp() {
            gameState.isSleeping = false;
            sleepOverlay.classList.remove('active');
            
            const buttons = actionsPanel.querySelectorAll('.action-btn');
            buttons.forEach(btn => btn.disabled = false);
            
            showMessage("–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! ‚òÄÔ∏è", 4000);
            updateUI();
        }
        
        function playMiniGame() {
            // –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –º–∏–Ω–∏-–∏–≥—Ä—ã
            const randomGame = miniGames[Math.floor(Math.random() * miniGames.length)];
            miniGameOverlay.style.display = 'flex';
            randomGame.play();
        }
        
        function closeMiniGame() {
            miniGameOverlay.style.display = 'none';
            document.getElementById('mini-game-container').innerHTML = '';
        }
        
        function cleanCow() {
            gameState.cleanliness = Math.min(config.maxCleanliness, gameState.cleanliness + 40);
            gameState.happiness = Math.min(config.maxHappiness, gameState.happiness + 15);
            gameState.coins += 3;
            
            showMessage("–Ø —Ç–µ–ø–µ—Ä—å —á–∏—Å—Ç–∞—è! üõÅ", 4000);
            updateUI();
        }
        
        function healCow() {
            const cost = 20;
            if (gameState.coins < cost) {
                showMessage(\`–ù—É–∂–Ω–æ \${cost} –º–æ–Ω–µ—Ç! üí∞\`, 4000);
                return;
            }
            
            gameState.coins -= cost;
            gameState.hunger = Math.min(config.maxHunger, gameState.hunger + 20);
            gameState.energy = Math.min(config.maxEnergy, gameState.energy + 30);
            gameState.happiness = Math.min(config.maxHappiness, gameState.happiness + 40);
            
            if (userSettings.effects) {
                cowCharacter.style.filter = 'drop-shadow(0 0 20px #4CAF50)';
                setTimeout(() => {
                    cowCharacter.style.filter = 'drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2))';
                }, 1000);
            }
            
            showMessage("–°–ø–∞—Å–∏–±–æ, —Ç–µ–ø–µ—Ä—å —è –∑–¥–æ—Ä–æ–≤–∞! ‚ù§Ô∏è", 4000);
            updateUI();
        }
        
        function danceCow() {
            if (gameState.energy < 10) {
                showMessage("–ù–µ—Ç —Å–∏–ª —Ç–∞–Ω—Ü–µ–≤–∞—Ç—å... ‚ö°", 4000);
                return;
            }
            
            gameState.happiness = Math.min(config.maxHappiness, gameState.happiness + 30);
            gameState.energy = Math.max(0, gameState.energy - 10);
            gameState.coins += 10;
            
            if (userSettings.animations) {
                cowCharacter.classList.add('cow-dance');
                setTimeout(() => {
                    cowCharacter.classList.remove('cow-dance');
                }, 2000);
            }
            
            showMessage("–¢–∞–Ω—Ü—É–µ–º! üíÉ", 4000);
            updateUI();
        }
        
        function useToilet() {
            if (gameState.hunger < 50) {
                showMessage("–ú–Ω–µ –Ω–µ –Ω—É–∂–Ω–æ —Å–µ–π—á–∞—Å üöΩ", 4000);
                return;
            }
            
            gameState.hunger = Math.max(0, gameState.hunger - 20);
            gameState.happiness = Math.min(config.maxHappiness, gameState.happiness + 10);
            gameState.coins += 2;
            
            showMessage("–§—É—Ö, –ø–æ–ª–µ–≥—á–∞–ª–æ! üòÖ", 4000);
            updateUI();
        }
        
        function petCow() {
            gameState.happiness = Math.min(config.maxHappiness, gameState.happiness + 15);
            gameState.energy = Math.min(config.maxEnergy, gameState.energy + 5);
            
            if (userSettings.animations) {
                cowCharacter.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    cowCharacter.style.transform = 'scale(1)';
                }, 200);
            }
            
            makeCowTalk();
            updateUI();
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
        function checkLevelUp() {
            gameState.xp += (gameState.hunger + gameState.energy + gameState.happiness + gameState.cleanliness) / 400;
            
            if (gameState.xp >= gameState.maxXP) {
                gameState.level++;
                gameState.xp = 0;
                gameState.maxXP = Math.floor(gameState.maxXP * 1.5);
                gameState.coins += gameState.level * 20;
                
                showMessage(\`üéâ –£—Ä–æ–≤–µ–Ω—å \${gameState.level}! –ü–æ–∑–¥—Ä–∞–≤–ª—è—é!\`, 5000);
                
                if (userSettings.effects) {
                    cowCharacter.style.filter = 'drop-shadow(0 0 30px gold)';
                    setTimeout(() => {
                        cowCharacter.style.filter = 'drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2))';
                    }, 2000);
                }
                
                // –ê–Ω–∏–º–∞—Ü–∏—è —Å—á–∞—Å—Ç—å—è
                cowCharacter.classList.add('cow-happy');
                setTimeout(() => {
                    cowCharacter.classList.remove('cow-happy');
                }, 3000);
            }
        }
        
        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞–º–∏
        function startGame() {
            mainMenu.style.display = 'none';
            settingsScreen.style.display = 'none';
            gameScreen.style.display = 'block';
            initGame();
        }
        
        function showSettings() {
            saveGame();
            mainMenu.style.display = 'none';
            gameScreen.style.display = 'none';
            settingsScreen.style.display = 'block';
        }
        
        function backToGame() {
            saveGame();
            mainMenu.style.display = 'none';
            settingsScreen.style.display = 'none';
            gameScreen.style.display = 'block';
        }
        
        function backToMenu() {
            saveGame();
            mainMenu.style.display = 'block';
            gameScreen.style.display = 'none';
            settingsScreen.style.display = 'none';
        }
        
        function toggleSetting(setting) {
            const toggle = document.getElementById(\`\${setting}-toggle\`);
            if (toggle) {
                userSettings[setting] = !userSettings[setting];
                toggle.classList.toggle('active');
                saveSettings();
            }
        }
        
        function resetGame() {
            if (confirm("–ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É? –í–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω!")) {
                gameState = {
                    hunger: 80,
                    energy: 90,
                    happiness: 85,
                    cleanliness: 95,
                    coins: 50,
                    level: 1,
                    isSleeping: false,
                    xp: 0,
                    maxXP: 100,
                    lastTalkTime: 0,
                    talkCooldown: 30000
                };
                
                localStorage.removeItem('dunyakhaSave');
                showMessage("–ù–æ–≤–∞—è –∏–≥—Ä–∞ –Ω–∞—á–∞—Ç–∞! üéÆ", 4000);
                updateUI();
                
                // –ï—Å–ª–∏ –º—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ –∏–≥—Ä—É
                if (settingsScreen.style.display === 'block') {
                    backToGame();
                }
            }
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞
        function saveGame() {
            const saveData = {
                state: gameState,
                timestamp: Date.now()
            };
            
            try {
                localStorage.setItem('dunyakhaSave', JSON.stringify(saveData));
            } catch(e) {
                console.log("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–≥—Ä—ã");
            }
        }
        
        function loadGame() {
            try {
                const saved = localStorage.getItem('dunyakhaSave');
                if (saved) {
                    const saveData = JSON.parse(saved);
                    const daysOld = (Date.now() - saveData.timestamp) / (1000 * 3600 * 24);
                    if (daysOld < 30) {
                        gameState = { ...gameState, ...saveData.state };
                        showMessage("–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º! üëã", 4000);
                    }
                }
            } catch(e) {
                console.log("–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π –∏–≥—Ä—ã");
            }
        }
        
        function saveSettings() {
            const talkFrequencySelect = document.getElementById('talk-frequency');
            const voiceVolumeSlider = document.getElementById('voice-volume');
            
            if (talkFrequencySelect) userSettings.talkFrequency = talkFrequencySelect.value;
            if (voiceVolumeSlider) userSettings.voiceVolume = voiceVolumeSlider.value;
            
            try {
                localStorage.setItem('dunyakhaSettings', JSON.stringify(userSettings));
            } catch(e) {
                console.log("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫");
            }
        }
        
        function loadSettings() {
            try {
                const saved = localStorage.getItem('dunyakhaSettings');
                if (saved) {
                    const loadedSettings = JSON.parse(saved);
                    userSettings = { ...userSettings, ...loadedSettings };
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º UI –Ω–∞—Å—Ç—Ä–æ–µ–∫
                    Object.keys(userSettings).forEach(key => {
                        const toggle = document.getElementById(\`\${key}-toggle\`);
                        if (toggle) {
                            if (userSettings[key] === true) {
                                toggle.classList.add('active');
                            } else if (userSettings[key] === false) {
                                toggle.classList.remove('active');
                            }
                        }
                    });
                    
                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —Å–µ–ª–µ–∫—Ç–∞ –∏ —Å–ª–∞–π–¥–µ—Ä–∞
                    const talkFrequencySelect = document.getElementById('talk-frequency');
                    const voiceVolumeSlider = document.getElementById('voice-volume');
                    
                    if (talkFrequencySelect && userSettings.talkFrequency) {
                        talkFrequencySelect.value = userSettings.talkFrequency;
                    }
                    
                    if (voiceVolumeSlider && userSettings.voiceVolume) {
                        voiceVolumeSlider.value = userSettings.voiceVolume;
                    }
                }
            } catch(e) {
                console.log("–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫");
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('DOMContentLoaded', () => {
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ª–∞–π–¥–µ—Ä–æ–≤ –∏ —Å–µ–ª–µ–∫—Ç–æ–≤
            const voiceVolumeSlider = document.getElementById('voice-volume');
            const talkFrequencySelect = document.getElementById('talk-frequency');
            
            if (voiceVolumeSlider) {
                voiceVolumeSlider.addEventListener('input', function() {
                    userSettings.voiceVolume = this.value;
                    saveSettings();
                });
            }
            
            if (talkFrequencySelect) {
                talkFrequencySelect.addEventListener('change', function() {
                    userSettings.talkFrequency = this.value;
                    saveSettings();
                });
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
            mainMenu.style.display = 'block';
            gameScreen.style.display = 'none';
            settingsScreen.style.display = 'none';
            
            // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
            window.addEventListener('beforeunload', () => {
                saveGame();
                saveSettings();
            });
            
            // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
            document.addEventListener('touchstart', function() {}, {passive: true});
        });
        `;

        // ============================================
        // –ó–ê–ü–£–°–ö –°–ê–ô–¢–ê
        // ============================================
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('DOMContentLoaded', initSite);
        
        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
        document.addEventListener('contextmenu', (e) => {
            e.preventDefault();
            return false;
        });
        
        // –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–π –∫–Ω–æ–ø–∫–∏
        fullscreenBtn.addEventListener('click', toggleFullscreen);
        fullscreenBtn.addEventListener('touchstart', toggleFullscreen);
    </script>
</body>
</html>
